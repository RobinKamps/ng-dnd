(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{l3xe:function(e,t,n){"use strict";n.r(t),n.d(t,"KanbanModule",(function(){return I}));var r=n("2kYt"),i=n("JqZp"),a=n("Qq0t"),s=n("sEIs"),c=n("nIj0"),o=n("m3KN"),d=n("8Kv9");const l={LIST:"SIMPLE_KANBAN_LIST",CARD:"SIMPLE_KANBAN_CARD"};var b=n("EM62"),p=n("8dL6"),g=n("6BAR");let h=(()=>{class e{constructor(){this.initialTree=[{id:1,title:"To Do",cards:[{listId:1,id:10,title:"Write a new song"},{listId:1,id:20,title:"Put the lyrics to music"}]},{id:2,title:"Doing",cards:[{listId:2,id:30,title:"Rig up the speakers"}]},{id:3,title:"Done",cards:[]}],this.savedTree=this.initialTree,this.tree=this.initialTree,this.boardSpec={type:l.LIST,trackBy:e=>e.id,hover:e=>{this.tree=this.moveList(e)},drop:e=>{this.tree=this.savedTree=this.moveList(e)},endDrag:e=>{this.tree=this.savedTree}},this.listSpec={type:l.CARD,trackBy:e=>e.id,hover:e=>{this.tree=this.moveCard(e)},drop:e=>{this.tree=this.savedTree=this.moveCard(e)},endDrag:e=>{this.tree=this.savedTree}}}moveList(e){return Object(g.b)(this.savedTree,t=>{e.isInternal&&t.splice(e.index,1),t.splice(e.hover.index,0,e.data)})}moveCard(e){return Object(g.b)(this.savedTree,t=>{const{listId:n,index:r}=e,{listId:i,index:a}=e.hover;console.info("from",n,r,"to",i,a);let s=t.find(e=>e.id===n),c=t.find(e=>e.id===i);if(!s)return;if(e.isInternal&&s.cards.splice(r,1),!c)return;let o=Object.assign(Object.assign({},e.data),{listId:i});c.cards.splice(a,0,o)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b.Hb({token:e,factory:e.\u0275fac}),e})();var u=n("4s1X"),x=n("6tfF"),f=n("HHHL");let v=(()=>{class e{constructor(){this.preview=!1,this.placeholder=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b.Fb({type:e,selectors:[["kanban-card"]],inputs:{card:"card",preview:"preview",placeholder:"placeholder"},decls:3,vars:5,consts:[[1,"card"]],template:function(e,t){1&e&&(b.Rb(0,"div",0),b.Rb(1,"p"),b.tc(2),b.Qb(),b.Qb()),2&e&&(b.Cb("card--preview",t.preview)("card--placeholder",t.placeholder),b.zb(2),b.uc(t.card.title))},styles:['[_nghost-%COMP%]{display:block}*[_ngcontent-%COMP%]{box-sizing:border-box}.card[_ngcontent-%COMP%]{padding:8px;border-radius:4px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#fff;box-shadow:0 1px 3px rgba(0,0,0,.08),0 1px 2px rgba(0,0,0,.16)}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.card--preview[_ngcontent-%COMP%]{-ms-transform:rotate(-2deg);transform:rotate(-2deg);width:100%;height:100%;box-shadow:0 8px 16px rgba(0,0,0,.25),0 6px 6px rgba(0,0,0,.13)}.card--placeholder[_ngcontent-%COMP%]{background:none;box-shadow:none}.card--placeholder[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.card--placeholder[_ngcontent-%COMP%]:before{content:"";border-radius:4px;background:rgba(0,0,0,.13);box-shadow:inset 0 3px 7px rgba(0,0,0,.13),inset 0 1px 3px rgba(0,0,0,.22);position:absolute;top:0;left:0;width:100%;height:100%}']}),e})();var m=n("xBIF"),w=n("whu5");function C(e,t){if(1&e&&(b.Mb(0,"kanban-card",5,6),b.cc(2,"async")),2&e){const e=t.$implicit,n=b.mc(1);b.gc("dndSortableRender",e)("dragSource",n.source)("card",e.data)("noHTML5Preview",!0)("placeholder",b.dc(2,5,n.isDragging$))}}function k(e,t){1&e&&b.Mb(0,"kanban-card",9),2&e&&b.gc("card",t.$implicit)}function M(e,t){if(1&e&&(b.Rb(0,"div",7),b.rc(1,k,1,1,"kanban-card",8),b.Qb()),2&e){const e=b.bc();b.zb(1),b.gc("ngForOf",e.list.cards)("ngForTrackBy",e.trackById)}}let y=(()=>{class e{constructor(e,t){this.specs=e,this.render=t,this.preview=!1,this.addCard=new b.n,this.placeholder$=this.render&&this.render.source.listen(e=>e.isDragging()),this.isOver$=this.render&&this.render.target.listen(e=>e.canDrop()&&e.isOver()),this.trackById=(e,t)=>t.id}}return e.\u0275fac=function(t){return new(t||e)(b.Lb(h),b.Lb(d.b,8))},e.\u0275cmp=b.Fb({type:e,selectors:[["kanban-list"]],inputs:{list:"list",preview:"preview"},outputs:{addCard:"addCard"},decls:9,vars:12,consts:[[1,"list"],[1,"handle",3,"dragSource","noHTML5Preview"],[1,"cards-container",3,"spec","children","listId"],["dndSortableTemplate",""],["plain",""],[3,"dndSortableRender","dragSource","card","noHTML5Preview","placeholder"],["render","dndSortableRender"],[1,"cards-container"],[3,"card",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card"]],template:function(e,t){1&e&&(b.Rb(0,"div",0),b.cc(1,"async"),b.Rb(2,"div",1),b.Rb(3,"h3"),b.tc(4),b.Qb(),b.Qb(),b.Rb(5,"dnd-sortable-list",2),b.rc(6,C,3,7,"ng-template",3),b.Qb(),b.rc(7,M,2,2,"ng-template",null,4,b.sc),b.Qb()),2&e&&(b.Cb("list--preview",t.preview)("list--placeholder",b.dc(1,10,null==t.render?null:t.render.isDragging$)),b.zb(2),b.gc("dragSource",null==t.render?null:t.render.source)("noHTML5Preview",!0),b.zb(2),b.uc(t.list.title),b.zb(1),b.gc("spec",t.specs.listSpec)("children",t.list.cards)("listId",t.list.id))},directives:[m.c,x.a,f.a,v,w.a,r.k],pipes:[r.b],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}.cards-container[_ngcontent-%COMP%]{min-height:20px}.cards-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:6px}.list[_ngcontent-%COMP%]{position:relative;width:240px;padding:8px;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#eee;box-shadow:0 1px 3px rgba(0,0,0,.08),0 1px 2px rgba(0,0,0,.16)}.list--preview[_ngcontent-%COMP%]{box-shadow:0 14px 28px rgba(0,0,0,.2),0 10px 10px rgba(0,0,0,.1)}.list--placeholder[_ngcontent-%COMP%]{background:none;box-shadow:none}.list--placeholder[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.list--placeholder[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.13);border-radius:4px;box-shadow:inset 0 3px 7px rgba(0,0,0,.13),inset 0 1px 3px rgba(0,0,0,.22)}.handle[_ngcontent-%COMP%]{margin:-8px;padding:8px}.handle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px}']}),e})();function O(e,t){if(1&e&&b.Mb(0,"kanban-card",6),2&e){const e=b.bc().item;b.gc("card",e.data)("preview",!0)("ngStyle",e.size.style())}}function P(e,t){if(1&e&&b.Mb(0,"kanban-list",7),2&e){const e=b.bc().item;b.gc("list",e.data)("preview",!0)("ngStyle",e.size.style())}}function _(e,t){if(1&e&&(b.Pb(0,3),b.rc(1,O,1,3,"kanban-card",4),b.rc(2,P,1,3,"kanban-list",5),b.Ob()),2&e){const e=t.$implicit,n=b.bc();b.gc("ngSwitch",e),b.zb(1),b.gc("ngSwitchCase",n.ItemTypes.CARD),b.zb(1),b.gc("ngSwitchCase",n.ItemTypes.LIST)}}function S(e,t){if(1&e){const e=b.Sb();b.Rb(0,"kanban-list",8),b.Zb("addCard",(function(n){b.nc(e);const r=t.$implicit;return b.bc().addCard(r.data.id,n)})),b.Qb()}if(2&e){const e=t.$implicit;b.gc("dndSortableRender",e)("list",e.data)}}let R=(()=>{class e{constructor(e){this.specs=e,this.ItemTypes=l}addCard(e,t){}removeCard(e){}}return e.\u0275fac=function(t){return new(t||e)(b.Lb(h))},e.\u0275cmp=b.Fb({type:e,selectors:[["kanban-board"]],decls:4,vars:5,consts:[[3,"allBackends"],["hoverTrigger","fixed",1,"kanban-root",3,"listId","children","spec","horizontal"],["dndSortableTemplate",""],[3,"ngSwitch"],[3,"card","preview","ngStyle",4,"ngSwitchCase"],[3,"list","preview","ngStyle",4,"ngSwitchCase"],[3,"card","preview","ngStyle"],[3,"list","preview","ngStyle"],[3,"dndSortableRender","list","addCard"]],template:function(e,t){1&e&&(b.Rb(0,"dnd-preview",0),b.rc(1,_,3,3,"ng-template"),b.Qb(),b.Rb(2,"dnd-sortable-list",1),b.rc(3,S,1,2,"ng-template",2),b.Qb()),2&e&&(b.gc("allBackends",!0),b.zb(2),b.gc("listId",888)("children",t.specs.tree)("spec",t.specs.boardSpec)("horizontal",!0))},directives:[u.a,x.a,f.a,r.n,r.o,v,r.m,y,w.a],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.kanban-root[_ngcontent-%COMP%]{background:#50ddb0;-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;min-height:500px;overflow-x:scroll;padding:8px;-ms-flex-pack:start;justify-content:flex-start}.kanban-root[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:8px}.trash-zone[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;text-align:right}"]}),e})(),T=(()=>{class e{constructor(e,t){this.dnd=e,this.el=t,this.cardSpill=Object(d.e)(this.dnd,l.CARD,{})}ngAfterViewInit(){}ngOnDestroy(){this.cardSpill.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(b.Lb(a.c),b.Lb(b.l))},e.\u0275cmp=b.Fb({type:e,selectors:[["kanban-container"]],decls:26,vars:0,consts:[[1,"text"],["path","sortable/simple-kanban"],[1,"span","span--darkblue"],[1,"span","span--light"],[1,"relative"]],template:function(e,t){1&e&&(b.Rb(0,"div",0),b.Mb(1,"app-example-link",1),b.Rb(2,"p"),b.tc(3," This example uses "),b.Rb(4,"code"),b.tc(5,"@ng-dnd/sortable"),b.Qb(),b.tc(6,". It's similar to the other one, but doesn't use "),b.Rb(7,"code"),b.tc(8,"@ngrx"),b.Qb(),b.tc(9,", just "),b.Rb(10,"code"),b.tc(11,"Immer"),b.Qb(),b.tc(12,". There are two kinds of sortable in play here: "),b.Qb(),b.Rb(13,"ul"),b.Rb(14,"li"),b.tc(15,"One "),b.Rb(16,"span",2),b.tc(17,"horizontal"),b.Qb(),b.tc(18," one, whose 'cards' are the vertical lists. Try grabbing a whole list by its header, and reordering. "),b.Qb(),b.Rb(19,"li"),b.tc(20,"Many "),b.Rb(21,"span",3),b.tc(22,"vertical"),b.Qb(),b.tc(23," ones, which contain the kanban cards. Try moving the cards between lists. "),b.Qb(),b.Qb(),b.Qb(),b.Rb(24,"div",4),b.Mb(25,"kanban-board"),b.Qb())},directives:[p.a,R],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.relative[_ngcontent-%COMP%]{position:relative}.text[_ngcontent-%COMP%]{background:#fff;max-width:800px}.span[_ngcontent-%COMP%]{border-radius:4px;padding:0 2px}.span--darkblue[_ngcontent-%COMP%]{background:#50ddb0;color:#fff}.span--light[_ngcontent-%COMP%]{background:#eee;color:#000;box-shadow:0 1px 3px rgba(0,0,0,.08),0 1px 2px rgba(0,0,0,.16)}"]}),e})(),I=(()=>{class e{}return e.\u0275mod=b.Jb({type:e}),e.\u0275inj=b.Ib({factory:function(t){return new(t||e)},providers:[h],imports:[[r.c,i.a,a.b,o.a,d.a,c.l,s.d.forChild([{path:"",component:T}])]]}),e})()}}]);