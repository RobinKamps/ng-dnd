function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{l3xe:function(e,n,t){"use strict";t.r(n),t.d(n,"KanbanModule",(function(){return A}));var r,i,a=t("2kYt"),c=t("JqZp"),o=t("Qq0t"),s=t("sEIs"),d=t("nIj0"),l=t("m3KN"),b=t("8Kv9"),p={LIST:"SIMPLE_KANBAN_LIST",CARD:"SIMPLE_KANBAN_CARD"},g=t("EM62"),u=t("8dL6"),h=t("6BAR"),f=((r=function(){function e(){var n=this;_classCallCheck(this,e),this.initialTree=[{id:1,title:"To Do",cards:[{listId:1,id:10,title:"Write a new song"},{listId:1,id:20,title:"Put the lyrics to music"}]},{id:2,title:"Doing",cards:[{listId:2,id:30,title:"Rig up the speakers"}]},{id:3,title:"Done",cards:[]}],this.savedTree=this.initialTree,this.tree=this.initialTree,this.boardSpec={type:p.LIST,trackBy:function(e){return e.id},hover:function(e){n.tree=n.moveList(e)},drop:function(e){n.tree=n.savedTree=n.moveList(e)},endDrag:function(e){n.tree=n.savedTree}},this.listSpec={type:p.CARD,trackBy:function(e){return e.id},hover:function(e){n.tree=n.moveCard(e)},drop:function(e){n.tree=n.savedTree=n.moveCard(e)},endDrag:function(e){n.tree=n.savedTree}}}return _createClass(e,[{key:"moveList",value:function(e){return Object(h.b)(this.savedTree,(function(n){e.isInternal&&n.splice(e.index,1),n.splice(e.hover.index,0,e.data)}))}},{key:"moveCard",value:function(e){return Object(h.b)(this.savedTree,(function(n){var t=e.listId,r=e.index,i=e.hover,a=i.listId,c=i.index;console.info("from",t,r,"to",a,c);var o=n.find((function(e){return e.id===t})),s=n.find((function(e){return e.id===a}));if(o&&(e.isInternal&&o.cards.splice(r,1),s)){var d=Object.assign(Object.assign({},e.data),{listId:a});s.cards.splice(c,0,d)}}))}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275prov=g.Hb({token:r,factory:r.\u0275fac}),r),v=t("4s1X"),x=t("6tfF"),C=t("HHHL"),m=((i=function e(){_classCallCheck(this,e),this.preview=!1,this.placeholder=!1}).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=g.Fb({type:i,selectors:[["kanban-card"]],inputs:{card:"card",preview:"preview",placeholder:"placeholder"},decls:3,vars:5,consts:[[1,"card"]],template:function(e,n){1&e&&(g.Rb(0,"div",0),g.Rb(1,"p"),g.tc(2),g.Qb(),g.Qb()),2&e&&(g.Cb("card--preview",n.preview)("card--placeholder",n.placeholder),g.zb(2),g.uc(n.card.title))},styles:['[_nghost-%COMP%]{display:block}*[_ngcontent-%COMP%]{box-sizing:border-box}.card[_ngcontent-%COMP%]{padding:8px;border-radius:4px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#fff;box-shadow:0 1px 3px rgba(0,0,0,.08),0 1px 2px rgba(0,0,0,.16)}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.card--preview[_ngcontent-%COMP%]{-ms-transform:rotate(-2deg);transform:rotate(-2deg);width:100%;height:100%;box-shadow:0 8px 16px rgba(0,0,0,.25),0 6px 6px rgba(0,0,0,.13)}.card--placeholder[_ngcontent-%COMP%]{background:none;box-shadow:none}.card--placeholder[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.card--placeholder[_ngcontent-%COMP%]:before{content:"";border-radius:4px;background:rgba(0,0,0,.13);box-shadow:inset 0 3px 7px rgba(0,0,0,.13),inset 0 1px 3px rgba(0,0,0,.22);position:absolute;top:0;left:0;width:100%;height:100%}']}),i),w=t("xBIF"),k=t("whu5");function y(e,n){if(1&e&&(g.Mb(0,"kanban-card",5,6),g.cc(2,"async")),2&e){var t=n.$implicit,r=g.mc(1);g.gc("dndSortableRender",t)("dragSource",r.source)("card",t.data)("noHTML5Preview",!0)("placeholder",g.dc(2,5,r.isDragging$))}}function _(e,n){1&e&&g.Mb(0,"kanban-card",9),2&e&&g.gc("card",n.$implicit)}function M(e,n){if(1&e&&(g.Rb(0,"div",7),g.rc(1,_,1,1,"kanban-card",8),g.Qb()),2&e){var t=g.bc();g.zb(1),g.gc("ngForOf",t.list.cards)("ngForTrackBy",t.trackById)}}var O,P=((O=function e(n,t){_classCallCheck(this,e),this.specs=n,this.render=t,this.preview=!1,this.addCard=new g.n,this.placeholder$=this.render&&this.render.source.listen((function(e){return e.isDragging()})),this.isOver$=this.render&&this.render.target.listen((function(e){return e.canDrop()&&e.isOver()})),this.trackById=function(e,n){return n.id}}).\u0275fac=function(e){return new(e||O)(g.Lb(f),g.Lb(b.b,8))},O.\u0275cmp=g.Fb({type:O,selectors:[["kanban-list"]],inputs:{list:"list",preview:"preview"},outputs:{addCard:"addCard"},decls:9,vars:12,consts:[[1,"list"],[1,"handle",3,"dragSource","noHTML5Preview"],[1,"cards-container",3,"spec","children","listId"],["dndSortableTemplate",""],["plain",""],[3,"dndSortableRender","dragSource","card","noHTML5Preview","placeholder"],["render","dndSortableRender"],[1,"cards-container"],[3,"card",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card"]],template:function(e,n){1&e&&(g.Rb(0,"div",0),g.cc(1,"async"),g.Rb(2,"div",1),g.Rb(3,"h3"),g.tc(4),g.Qb(),g.Qb(),g.Rb(5,"dnd-sortable-list",2),g.rc(6,y,3,7,"ng-template",3),g.Qb(),g.rc(7,M,2,2,"ng-template",null,4,g.sc),g.Qb()),2&e&&(g.Cb("list--preview",n.preview)("list--placeholder",g.dc(1,10,null==n.render?null:n.render.isDragging$)),g.zb(2),g.gc("dragSource",null==n.render?null:n.render.source)("noHTML5Preview",!0),g.zb(2),g.uc(n.list.title),g.zb(1),g.gc("spec",n.specs.listSpec)("children",n.list.cards)("listId",n.list.id))},directives:[w.c,x.a,C.a,m,k.a,a.k],pipes:[a.b],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}.cards-container[_ngcontent-%COMP%]{min-height:20px}.cards-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:6px}.list[_ngcontent-%COMP%]{position:relative;width:240px;padding:8px;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#eee;box-shadow:0 1px 3px rgba(0,0,0,.08),0 1px 2px rgba(0,0,0,.16)}.list--preview[_ngcontent-%COMP%]{box-shadow:0 14px 28px rgba(0,0,0,.2),0 10px 10px rgba(0,0,0,.1)}.list--placeholder[_ngcontent-%COMP%]{background:none;box-shadow:none}.list--placeholder[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.list--placeholder[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.13);border-radius:4px;box-shadow:inset 0 3px 7px rgba(0,0,0,.13),inset 0 1px 3px rgba(0,0,0,.22)}.handle[_ngcontent-%COMP%]{margin:-8px;padding:8px}.handle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px}']}),O);function S(e,n){if(1&e&&g.Mb(0,"kanban-card",6),2&e){var t=g.bc().item;g.gc("card",t.data)("preview",!0)("ngStyle",t.size.style())}}function R(e,n){if(1&e&&g.Mb(0,"kanban-list",7),2&e){var t=g.bc().item;g.gc("list",t.data)("preview",!0)("ngStyle",t.size.style())}}function T(e,n){if(1&e&&(g.Pb(0,3),g.rc(1,S,1,3,"kanban-card",4),g.rc(2,R,1,3,"kanban-list",5),g.Ob()),2&e){var t=n.$implicit,r=g.bc();g.gc("ngSwitch",t),g.zb(1),g.gc("ngSwitchCase",r.ItemTypes.CARD),g.zb(1),g.gc("ngSwitchCase",r.ItemTypes.LIST)}}function I(e,n){if(1&e){var t=g.Sb();g.Rb(0,"kanban-list",8),g.Zb("addCard",(function(e){g.nc(t);var r=n.$implicit;return g.bc().addCard(r.data.id,e)})),g.Qb()}if(2&e){var r=n.$implicit;g.gc("dndSortableRender",r)("list",r.data)}}var Q,z,L,D=((L=function(){function e(n){_classCallCheck(this,e),this.specs=n,this.ItemTypes=p}return _createClass(e,[{key:"addCard",value:function(e,n){}},{key:"removeCard",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||L)(g.Lb(f))},L.\u0275cmp=g.Fb({type:L,selectors:[["kanban-board"]],decls:4,vars:5,consts:[[3,"allBackends"],["hoverTrigger","fixed",1,"kanban-root",3,"listId","children","spec","horizontal"],["dndSortableTemplate",""],[3,"ngSwitch"],[3,"card","preview","ngStyle",4,"ngSwitchCase"],[3,"list","preview","ngStyle",4,"ngSwitchCase"],[3,"card","preview","ngStyle"],[3,"list","preview","ngStyle"],[3,"dndSortableRender","list","addCard"]],template:function(e,n){1&e&&(g.Rb(0,"dnd-preview",0),g.rc(1,T,3,3,"ng-template"),g.Qb(),g.Rb(2,"dnd-sortable-list",1),g.rc(3,I,1,2,"ng-template",2),g.Qb()),2&e&&(g.gc("allBackends",!0),g.zb(2),g.gc("listId",888)("children",n.specs.tree)("spec",n.specs.boardSpec)("horizontal",!0))},directives:[v.a,x.a,C.a,a.n,a.o,m,a.m,P,k.a],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.kanban-root[_ngcontent-%COMP%]{background:#50ddb0;-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;min-height:500px;overflow-x:scroll;padding:8px;-ms-flex-pack:start;justify-content:flex-start}.kanban-root[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:8px}.trash-zone[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;text-align:right}"]}),L),B=((z=function(){function e(n,t){_classCallCheck(this,e),this.dnd=n,this.el=t,this.cardSpill=Object(b.e)(this.dnd,p.CARD,{})}return _createClass(e,[{key:"ngAfterViewInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.cardSpill.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||z)(g.Lb(o.c),g.Lb(g.l))},z.\u0275cmp=g.Fb({type:z,selectors:[["kanban-container"]],decls:26,vars:0,consts:[[1,"text"],["path","sortable/simple-kanban"],[1,"span","span--darkblue"],[1,"span","span--light"],[1,"relative"]],template:function(e,n){1&e&&(g.Rb(0,"div",0),g.Mb(1,"app-example-link",1),g.Rb(2,"p"),g.tc(3," This example uses "),g.Rb(4,"code"),g.tc(5,"@ng-dnd/sortable"),g.Qb(),g.tc(6,". It's similar to the other one, but doesn't use "),g.Rb(7,"code"),g.tc(8,"@ngrx"),g.Qb(),g.tc(9,", just "),g.Rb(10,"code"),g.tc(11,"Immer"),g.Qb(),g.tc(12,". There are two kinds of sortable in play here: "),g.Qb(),g.Rb(13,"ul"),g.Rb(14,"li"),g.tc(15,"One "),g.Rb(16,"span",2),g.tc(17,"horizontal"),g.Qb(),g.tc(18," one, whose 'cards' are the vertical lists. Try grabbing a whole list by its header, and reordering. "),g.Qb(),g.Rb(19,"li"),g.tc(20,"Many "),g.Rb(21,"span",3),g.tc(22,"vertical"),g.Qb(),g.tc(23," ones, which contain the kanban cards. Try moving the cards between lists. "),g.Qb(),g.Qb(),g.Qb(),g.Rb(24,"div",4),g.Mb(25,"kanban-board"),g.Qb())},directives:[u.a,D],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.relative[_ngcontent-%COMP%]{position:relative}.text[_ngcontent-%COMP%]{background:#fff;max-width:800px}.span[_ngcontent-%COMP%]{border-radius:4px;padding:0 2px}.span--darkblue[_ngcontent-%COMP%]{background:#50ddb0;color:#fff}.span--light[_ngcontent-%COMP%]{background:#eee;color:#000;box-shadow:0 1px 3px rgba(0,0,0,.08),0 1px 2px rgba(0,0,0,.16)}"]}),z),A=((Q=function e(){_classCallCheck(this,e)}).\u0275mod=g.Jb({type:Q}),Q.\u0275inj=g.Ib({factory:function(e){return new(e||Q)},providers:[f],imports:[[a.c,c.a,o.b,l.a,b.a,d.l,s.d.forChild([{path:"",component:B}])]]}),Q)}}]);