function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(s){c=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{KwPE:function(t,e,n){"use strict";n.r(e),n.d(e,"DragLayerModule",(function(){return D}));var r,i,a=n("2kYt"),o=n("sEIs"),c=n("Qq0t"),s=n("EM62"),l=n("8dL6"),u=n("xVbo"),f=n("YtkY"),g=((i=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=s.Fb({type:i,selectors:[["app-box"]],inputs:{title:"title"},decls:2,vars:1,template:function(t,e){1&t&&(s.Rb(0,"div"),s.tc(1),s.Qb()),2&t&&(s.zb(1),s.vc(" ",e.title," "))},styles:["div[_ngcontent-%COMP%] { border: 1px dashed grey;\n          cursor: move;\n          padding: 0.5rem 1rem; }"]}),i),p=((r=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=s.Fb({type:r,selectors:[["app-box-drag-preview"]],inputs:{title:"title"},decls:2,vars:1,consts:[[1,"phresh"],[3,"title"]],template:function(t,e){1&t&&(s.Rb(0,"div",0),s.Mb(1,"app-box",1),s.Qb()),2&t&&(s.zb(1),s.gc("title",e.title))},directives:[g],styles:["[_nghost-%COMP%] { display: inline-block; }\n    @keyframes animatedBackground {\n      from { background: yellow; }\n      to { background: white; }\n    }\n    .phresh[_ngcontent-%COMP%] {\n      background: white;\n      transform: rotate(-10deg);\n      overflow: hidden;\n      animation-name: animatedBackground;\n      animation-duration: 0.7s;\n      animation-iteration-count: infinite;\n      animation-timing-function: linear;\n      animation-direction: alternate;\n    }"]}),r);function d(t,e){if(1&t&&(s.Pb(0),s.Mb(1,"app-box-drag-preview",5),s.Ob()),2&t){var n=s.bc(2).ngIf;s.zb(1),s.gc("title",n.item.title)}}function b(t,e){if(1&t&&(s.Rb(0,"div",2),s.cc(1,"async"),s.Pb(2,3),s.rc(3,d,2,1,"ng-container",4),s.Ob(),s.Qb()),2&t){var n=s.bc().ngIf,r=s.bc();s.gc("ngStyle",s.dc(1,3,r.forStyle$)),s.zb(2),s.gc("ngSwitch",n.itemType),s.zb(1),s.gc("ngSwitchCase","BOX")}}function y(t,e){if(1&t&&(s.Pb(0),s.rc(1,b,4,5,"div",1),s.Ob()),2&t){var n=e.ngIf;s.zb(1),s.gc("ngIf",n.isDragging)}}var h,m,v,x,k,w=((h=function(){function t(e){var n=this;_classCallCheck(this,t),this.dnd=e,this.dragLayer=this.dnd.dragLayer(),this.collect$=this.dragLayer.listen((function(t){return{item:t.getItem(),itemType:t.getItemType(),isDragging:t.isDragging(),initialOffset:t.getInitialSourceClientOffset(),currentOffset:t.getSourceClientOffset()}})),this.forStyle$=this.collect$.pipe(Object(u.a)((function(t){return t.isDragging})),Object(f.a)((function(t){return n.getItemStyles(t)}))),this.snapToGrid=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.dragLayer.unsubscribe()}},{key:"getItemStyles",value:function(t){var e,n=t.initialOffset,r=t.currentOffset;if(!n||!r)return{display:"none"};var i=r.x,a=r.y;this.snapToGrid&&(i=(e=_slicedToArray(function(t,e){return[32*Math.round(t/32),32*Math.round(e/32)]}(i-=n.x,a-=n.y),2))[0],a=e[1],i+=n.x,a+=n.y);var o="translate(".concat(i,"px, ").concat(a,"px)");return{transform:o,WebkitTransform:o}}}]),t}()).\u0275fac=function(t){return new(t||h)(s.Lb(c.c))},h.\u0275cmp=s.Fb({type:h,selectors:[["app-custom-drag-layer"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"title"]],template:function(t,e){1&t&&(s.rc(0,y,2,1,"ng-container",0),s.cc(1,"async")),2&t&&s.gc("ngIf",s.dc(1,1,e.collect$))},directives:[a.l,a.m,a.n,a.o,p],pipes:[a.b],styles:["[_nghost-%COMP%] {\n      display: block;\n      position: fixed;\n      pointer-events: none;\n      z-index: 100;\n      left: 0;\n      top: 0;\n      width: 100%; height: 100%;\n    }"],changeDetection:0}),h),_=n("xBIF"),C=n("NyMZ"),O=((x=function(){function t(e){var n=this;_classCallCheck(this,t),this.dnd=e,this.source=this.dnd.dragSource("BOX",{beginDrag:function(){return{id:n.id,title:n.title,left:n.left,top:n.top}}}),this.isDragging$=this.source.listen((function(t){return t.isDragging()}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.source.connectDragPreview(Object(C.a)(),{captureDraggingState:!0})}},{key:"ngOnDestroy",value:function(){this.source.unsubscribe()}},{key:"getStyles",value:function(t){var e=this.left,n=this.top,r="translate3d(".concat(e,"px, ").concat(n,"px, 0)");return{position:"absolute",transform:r,WebkitTransform:r,opacity:t?0:null,height:t?0:null}}}]),t}()).\u0275fac=function(t){return new(t||x)(s.Lb(c.c))},x.\u0275cmp=s.Fb({type:x,selectors:[["app-draggable-box"]],inputs:{id:"id",title:"title",left:"left",top:"top"},decls:3,vars:5,consts:[[1,"draggable-box",3,"dragSource","ngStyle"],[3,"title"]],template:function(t,e){1&t&&(s.Rb(0,"div",0),s.cc(1,"async"),s.Mb(2,"app-box",1),s.Qb()),2&t&&(s.gc("dragSource",e.source)("ngStyle",e.getStyles(s.dc(1,3,e.isDragging$))),s.zb(2),s.gc("title",e.title))},directives:[_.c,a.m,g],pipes:[a.b],encapsulation:2,changeDetection:0}),x),S=((v=function(){function t(e){var n=this;_classCallCheck(this,t),this.dnd=e,this.x=30,this.y=90,this.styles={minHeight:"300px",maxWidth:"400px",maxHeight:"400px",width:"100%",height:"100%",boxSizing:"border-box",border:"1px solid black",position:"relative"},this.boxTarget=this.dnd.dropTarget("BOX",{drop:function(t){var e=t.getDifferenceFromInitialOffset(),r=t.getItem();n.moveBox(r.id,r.left+e.x,r.top+e.y)}})}return _createClass(t,[{key:"moveBox",value:function(t,e,n){this.x=e,this.y=n}},{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.boxTarget.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||v)(s.Lb(c.c))},v.\u0275cmp=s.Fb({type:v,selectors:[["app-drag-container"]],decls:2,vars:4,consts:[[3,"ngStyle","dropTarget"],["id","23","title","this box is titled",3,"left","top"]],template:function(t,e){1&t&&(s.Rb(0,"div",0),s.Mb(1,"app-draggable-box",1),s.Qb()),2&t&&(s.gc("ngStyle",e.styles)("dropTarget",e.boxTarget),s.zb(1),s.gc("left",e.x)("top",e.y))},directives:[a.m,_.d,O],encapsulation:2}),v),I=((m=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||m)},m.\u0275cmp=s.Fb({type:m,selectors:[["app-drag-layer-container"]],decls:3,vars:0,consts:[["path","drag-layer"]],template:function(t,e){1&t&&(s.Mb(0,"app-example-link",0),s.Mb(1,"app-custom-drag-layer"),s.Mb(2,"app-drag-container"))},directives:[l.a,w,S],encapsulation:2}),m),T=n("JqZp"),D=((k=function t(){_classCallCheck(this,t)}).\u0275mod=s.Jb({type:k}),k.\u0275inj=s.Ib({factory:function(t){return new(t||k)},imports:[[a.c,c.b,o.d.forChild([{path:"",component:I}]),T.a]]}),k)}}]);