function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{dfo6:function(e,t,n){"use strict";n.r(t),n.d(t,"QuizModule",(function(){return Y}));var i,r,a=n("2kYt"),s=n("nIj0"),o=n("JqZp"),c=n("Qq0t"),l=n("sEIs"),d=n("m3KN"),u=n("8Kv9"),b=n("EM62"),p=n("8dL6"),f=n("6BAR"),m=function(e){return e.Math="Math",e.Name="Name",e}({}),h=function e(t,n,r){_classCallCheck(this,e),this.id=t,this.question=n,this.answer=r,this[i]=!0,this.formType=m.Math,this.templateDescription=e.templateDescription};i=f.a,h.templateDescription="Math question";var g=function e(t){_classCallCheck(this,e),this.id=t,this[r]=!0,this.formType=m.Name,this.templateDescription=e.templateDescription};r=f.a,g.templateDescription="Name and student ID";var v=n("4s1X"),w=n("xBIF"),x=n("6tfF"),y=n("HHHL");function C(e,t){1&e&&(b.Rb(0,"div"),b.tc(1,"That's not quite right."),b.Qb())}function Q(e,t){1&e&&(b.Rb(0,"div"),b.tc(1,"Correct!"),b.Qb())}function R(e,t){if(1&e&&(b.Rb(0,"div",8),b.rc(1,C,2,0,"div",9),b.rc(2,Q,2,0,"div",9),b.Qb()),2&e){var n=t.ngIf;b.zb(1),b.gc("ngIf",n.invalid&&(n.touched||n.dirty)&&n.errors.incorrect),b.zb(1),b.gc("ngIf",n.valid)}}function I(e,t){if(1&e&&(b.Rb(0,"div"),b.Rb(1,"h4"),b.tc(2),b.Qb(),b.Rb(3,"form",5),b.Mb(4,"input",6),b.rc(5,R,3,2,"div",7),b.Qb(),b.Qb()),2&e){var n=b.bc().$implicit,i=b.bc();b.zb(2),b.uc(i.getQuestion(n)),b.zb(1),b.gc("formGroup",n.input),b.zb(2),b.gc("ngIf",n.input.get("answer"))}}function S(e,t){1&e&&(b.Rb(0,"div"),b.tc(1," Please enter a student ID in the form 's1234'."),b.Qb())}function k(e,t){if(1&e&&(b.Rb(0,"div",8),b.rc(1,S,2,0,"div",9),b.Qb()),2&e){var n=t.ngIf;b.zb(1),b.gc("ngIf",n.invalid&&(n.touched||n.dirty)&&n.errors.pattern)}}function M(e,t){if(1&e&&(b.Rb(0,"div"),b.Rb(1,"h4"),b.tc(2,"Enter your Name and Student Id"),b.Qb(),b.Rb(3,"form",5),b.Rb(4,"label"),b.tc(5," Name "),b.Mb(6,"input",10),b.Qb(),b.Rb(7,"label"),b.tc(8," Student ID "),b.Mb(9,"input",11),b.Qb(),b.rc(10,k,2,1,"div",7),b.Qb(),b.Qb()),2&e){var n=b.bc().$implicit;b.zb(3),b.gc("formGroup",n.input),b.zb(7),b.gc("ngIf",n.input.get("studentId"))}}function O(e,t){if(1&e&&(b.Rb(0,"div",2),b.Pb(1,3),b.rc(2,I,6,3,"div",4),b.rc(3,M,11,2,"div",4),b.Ob(),b.Qb()),2&e){var n=t.$implicit;b.zb(1),b.gc("ngSwitch",n.question.formType),b.zb(1),b.gc("ngSwitchCase","Math"),b.zb(1),b.gc("ngSwitchCase","Name")}}var q,_=((q=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"formElements",set:function(e){var t=this;this.sections=e.map((function(e){return{question:e,input:t.getFormGroup(e)}}))}},{key:"getFormGroup",value:function(e){switch(e.formType){case m.Math:return new s.e({answer:new s.c(null,[s.m.required,(t=e.answer,function(e){return e.value===t?null:{incorrect:!0}})])});case m.Name:return new s.e({name:new s.c(null,[s.m.required]),studentId:new s.c(null,[s.m.required,s.m.pattern(/^s\d{4}$/)])})}var t}},{key:"getQuestion",value:function(e){return e.question.question}}]),e}()).\u0275fac=function(e){return new(e||q)},q.\u0275cmp=b.Fb({type:q,selectors:[["app-printout"]],inputs:{formElements:"formElements"},decls:2,vars:1,consts:[[1,"printout-page"],["class","printout-elem",4,"ngFor","ngForOf"],[1,"printout-elem"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"formGroup"],["formControlName","answer","type","number"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],["formControlName","name"],["formControlName","studentId"]],template:function(e,t){1&e&&(b.Rb(0,"div",0),b.rc(1,O,4,3,"div",1),b.Qb()),2&e&&(b.zb(1),b.gc("ngForOf",t.sections))},directives:[a.k,a.n,a.o,s.n,s.i,s.f,s.b,s.k,s.h,s.d,a.l],styles:[".ng-valid[_ngcontent-%COMP%]:not(form)  {\n        border-left: 5px solid #42A948; \n    }\n    .ng-invalid[_ngcontent-%COMP%]:not(form)  {\n        border-left: 5px solid #a94442; \n    }"]}),q);function z(e,t){1&e&&b.Mb(0,"input",4)}var P,T=((P=function(){function e(){_classCallCheck(this,e),this.edit=new b.n}return _createClass(e,[{key:"ngOnChanges",value:function(){this.form=new s.e({question:new s.c(this.data.question),answer:new s.c(this.data.answer)})}},{key:"onSubmit",value:function(){this.edit.emit(new h(this.data.id,this.form.get("question").value,this.form.get("answer").value))}}]),e}()).\u0275fac=function(e){return new(e||P)},P.\u0275cmp=b.Fb({type:P,selectors:[["app-math-form"]],inputs:{data:"data"},outputs:{edit:"edit"},features:[b.xb],decls:11,vars:2,consts:[[3,"formGroup","ngSubmit"],["placeholder","Add a card","formControlName","question",1,"title"],["type","number","formControlName","answer",1,"amount"],["type","submit","value","Save question",4,"ngIf"],["type","submit","value","Save question"]],template:function(e,t){1&e&&(b.Rb(0,"form",0),b.Zb("ngSubmit",(function(){return t.onSubmit()})),b.Rb(1,"div"),b.Rb(2,"label"),b.tc(3," Question: "),b.Mb(4,"input",1),b.Qb(),b.Qb(),b.Rb(5,"div"),b.Rb(6,"label"),b.tc(7," Answer: "),b.Mb(8,"input",2),b.Qb(),b.Qb(),b.Rb(9,"div"),b.rc(10,z,1,0,"input",3),b.Qb(),b.Qb()),2&e&&(b.gc("formGroup",t.form),b.zb(10),b.gc("ngIf",t.form.dirty))},directives:[s.n,s.i,s.f,s.b,s.h,s.d,s.k,a.l],encapsulation:2}),P);function E(e,t){if(1&e){var n=b.Sb();b.Rb(0,"app-math-form",5),b.Zb("edit",(function(e){return b.nc(n),b.bc().edit.emit(e)})),b.Qb()}if(2&e){var i=b.bc();b.gc("data",i.question)}}function N(e,t){1&e&&(b.Rb(0,"div"),b.tc(1," Student enters their name/student id "),b.Qb())}var D,L=((D=function e(t){_classCallCheck(this,e),this.render=t,this.preview=!1,this.edit=new b.n}).\u0275fac=function(e){return new(e||D)(b.Lb(u.b,8))},D.\u0275cmp=b.Fb({type:D,selectors:[["quiz-section"]],inputs:{question:"question",preview:"preview"},outputs:{edit:"edit"},decls:7,vars:12,consts:[[1,"section",3,"dragPreview"],[1,"section-handle",3,"dragSource","noHTML5Preview"],[1,"section-content",3,"ngSwitch"],[3,"data","edit",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"data","edit"]],template:function(e,t){1&e&&(b.Rb(0,"div",0),b.cc(1,"async"),b.Rb(2,"span",1),b.tc(3," \u2630 "),b.Qb(),b.Rb(4,"div",2),b.rc(5,E,1,1,"app-math-form",3),b.rc(6,N,2,0,"div",4),b.Qb(),b.Qb()),2&e&&(b.Cb("section--placeholder",b.dc(1,10,null==t.render?null:t.render.isDragging$))("section--preview",t.preview),b.gc("dragPreview",null==t.render?null:t.render.source),b.zb(2),b.gc("dragSource",null==t.render?null:t.render.source)("noHTML5Preview",!0),b.zb(2),b.gc("ngSwitch",t.question.formType),b.zb(1),b.gc("ngSwitchCase","Math"),b.zb(1),b.gc("ngSwitchCase","Name"))},directives:[w.b,w.c,a.n,a.o,T],pipes:[a.b],styles:["[_nghost-%COMP%]{display:block}.section[_ngcontent-%COMP%]{min-width:0;width:100%;max-width:300px;color:#1111a7;background:#e2ecfa;display:-ms-flexbox;display:flex}.section--preview[_ngcontent-%COMP%], [_nghost-%COMP%]:not(:last-child)   .section[_ngcontent-%COMP%]{border-bottom:1px solid #7593bf}.section-handle[_ngcontent-%COMP%]{cursor:move;color:#333;margin-right:4px}.section-content[_ngcontent-%COMP%], .section-handle[_ngcontent-%COMP%]{padding:6px}.section--placeholder[_ngcontent-%COMP%]{opacity:.4;background:#eee}"]}),D),F=n("HNCh"),j=n("whu5");function H(e,t){if(1&e&&(b.Pb(0),b.Mb(1,"quiz-section",13),b.Ob()),2&e){var n=b.bc(2).item;b.zb(1),b.gc("question",n.data)("preview",!0)}}function A(e,t){if(1&e&&(b.Rb(0,"div",14),b.tc(1),b.Qb()),2&e){var n=b.bc(2).item;b.gc("ngStyle",n.size.style()),b.zb(1),b.vc(" ",n.data.templateDescription," ")}}function $(e,t){if(1&e&&(b.Pb(0),b.rc(1,H,2,2,"ng-container",11),b.rc(2,A,2,2,"ng-template",null,12,b.sc),b.Ob()),2&e){var n=b.mc(3),i=b.bc().item;b.zb(1),b.gc("ngIf",i.isInternal||"WORK_AREA"===i.hover.listId)("ngIfElse",n)}}function B(e,t){1&e&&b.rc(0,$,4,2,"ng-container",10),2&e&&b.gc("ngIf","QUIZ_QUESTION"===t.$implicit)}function G(e,t){if(1&e&&(b.Rb(0,"div",15,16),b.tc(2),b.Qb()),2&e){var n=t.$implicit,i=b.mc(1);b.gc("dndSortableExternal",n.spec)("dragSource",i.source)("noHTML5Preview",!0),b.zb(2),b.vc(" ",n.description," ")}}function Z(e,t){if(1&e){var n=b.Sb();b.Rb(0,"quiz-section",17,18),b.Zb("edit",(function(e){return b.nc(n),b.bc().edit(e)})),b.Qb()}if(2&e){var i=t.$implicit,r=b.mc(1);b.qc("display","block"),b.gc("dndSortableRender",i)("question",r.data)}}var U,W,J,K=((J=function(){function e(t){var n=this;_classCallCheck(this,e),this.dnd=t,this.spill=Object(u.e)(this.dnd,"QUIZ_QUESTION",{drop:function(e){e.isInternal&&(n.list=n.tempList=n.remove(e))}}),this.list=[new h(1,"What is 2+2?",4),new h(2,"What is the meaning of life?",42),new h(3,"What is 1137 mod 256?",113)],this.nextId=4,this.tempList=this.list,this.spec={type:"QUIZ_QUESTION",trackBy:function(e){return e.id},hover:function(e){n.tempList=n.move(e)},drop:function(e){n.tempList=n.list=n.move(e)},endDrag:function(e){n.tempList=n.list}},this.nameBlock=Object.assign(Object.assign({},this.spec),{createData:function(){return new g(n.nextId++)}}),this.mathQuestion=Object.assign(Object.assign({},this.spec),{createData:function(){return new h(n.nextId++,"New math question",0)}}),this.questionTemplates=[{spec:this.nameBlock,description:g.templateDescription},{spec:this.mathQuestion,description:h.templateDescription}]}return _createClass(e,[{key:"move",value:function(e){return Object(f.b)(this.list,(function(t){e.isInternal&&t.splice(e.index,1),t.splice(e.hover.index,0,e.data)}))}},{key:"remove",value:function(e){return Object(f.b)(this.list,(function(t){t.splice(e.index,1)}))}},{key:"edit",value:function(e){var t=this.list.findIndex((function(t){return t.id===e.id}));if(t>=0){var n=this.list.slice(0);n.splice(t,1,e),this.tempList=this.list=n}}},{key:"ngOnDestroy",value:function(){this.spill.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||J)(b.Lb(c.c))},J.\u0275cmp=b.Fb({type:J,selectors:[["app-external-sortable"]],decls:17,vars:6,consts:[[3,"allBackends"],[1,"flex",3,"dropTarget"],[1,"templates"],[1,"templates-flex"],["class","external",3,"dndSortableExternal","dragSource","noHTML5Preview",4,"ngFor","ngForOf"],[1,"work-area"],["listId","WORK_AREA",1,"list",3,"spec","children"],[3,"display","dndSortableRender","question","edit",4,"dndSortableTemplate"],[1,"printout"],[3,"formElements"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["external",""],[3,"question","preview"],[1,"external",3,"ngStyle"],[1,"external",3,"dndSortableExternal","dragSource","noHTML5Preview"],["ext","dndSortableExternal"],[3,"dndSortableRender","question","edit"],["r","dndSortableRender"]],template:function(e,t){1&e&&(b.Rb(0,"dnd-preview",0),b.rc(1,B,1,1,"ng-template"),b.Qb(),b.Rb(2,"div",1),b.Rb(3,"div",2),b.Rb(4,"h3"),b.tc(5,"Drag templates"),b.Qb(),b.Rb(6,"div",3),b.rc(7,G,3,4,"div",4),b.Qb(),b.Qb(),b.Rb(8,"div",5),b.Rb(9,"h3"),b.tc(10,"...into here; edit them"),b.Qb(),b.Rb(11,"dnd-sortable-list",6),b.rc(12,Z,2,4,"quiz-section",7),b.Qb(),b.Qb(),b.Rb(13,"div",8),b.Rb(14,"h3"),b.tc(15,"... then try the quiz out"),b.Qb(),b.Mb(16,"app-printout",9),b.Qb(),b.Qb()),2&e&&(b.gc("allBackends",!0),b.zb(2),b.gc("dropTarget",t.spill),b.zb(5),b.gc("ngForOf",t.questionTemplates),b.zb(4),b.gc("spec",t.spec)("children",t.tempList),b.zb(5),b.gc("formElements",t.list))},directives:[v.a,w.d,a.k,x.a,y.a,_,a.l,L,a.m,F.a,w.c,j.a],styles:["@media screen and (min-width:480px){.flex[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:0;padding:4px}}h3[_ngcontent-%COMP%]{border-bottom:2px solid #dedede;padding-bottom:6px}.templates-flex[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-direction:column;flex-direction:column}.external[_ngcontent-%COMP%]{background:#ffe5df;color:#ab4a30;padding:4px;margin-bottom:8px;border-top:2px solid #f9ede9;border-bottom:2px solid #efc5ba;min-width:0}"]}),J),X=((W=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||W)},W.\u0275cmp=b.Fb({type:W,selectors:[["quiz-container"]],decls:14,vars:0,consts:[["path","sortable/quiz"]],template:function(e,t){1&e&&(b.Mb(0,"app-example-link",0),b.Rb(1,"p"),b.tc(2,"This example does the same list operations as the 'Simple list' example, but it does them with "),b.Rb(3,"code"),b.tc(4,"immer"),b.Qb(),b.tc(5," just to shake things up."),b.Qb(),b.Rb(6,"p"),b.tc(7,"It also uses the "),b.Rb(8,"code"),b.tc(9,"[dndSortableExternal]"),b.Qb(),b.tc(10," directive to allow dragging in items that aren't already managed by a list."),b.Qb(),b.Rb(11,"p"),b.tc(12,"It also uses a 'spillTarget', attached outside the work area, which allows the preview to morph as you drag templates over the work area and out again."),b.Qb(),b.Mb(13,"app-external-sortable"))},directives:[p.a,K],encapsulation:2}),W),Y=((U=function e(){_classCallCheck(this,e)}).\u0275mod=b.Jb({type:U}),U.\u0275inj=b.Ib({factory:function(e){return new(e||U)},imports:[[a.c,s.l,o.a,c.b,d.a,u.a,l.d.forChild([{path:"",component:X}])]]}),U)}}]);