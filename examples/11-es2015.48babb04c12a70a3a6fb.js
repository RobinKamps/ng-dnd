(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"6tfF":function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("EM62"),s=n("Qq0t"),i=n("HHHL"),a=n("Lty/"),c=n("2kYt");function o(t,e){1&t&&r.Nb(0)}const d=function(t){return{$implicit:t}};function l(t,e){if(1&t&&(r.Pb(0),r.rc(1,o,1,0,"ng-container",1),r.Ob()),2&t){const t=e.$implicit,n=e.index,s=r.bc();r.zb(1),r.gc("ngTemplateOutlet",s.template)("ngTemplateOutletContext",r.ic(2,d,s.contextFor(t,n)))}}let h=(()=>{class t extends a.a{constructor(t,e,n){super(t,e,n),this.trackById=(t,e)=>this.spec&&this.spec.trackBy(e)}set renderTemplates(t){t.length>0&&(this.template=t.first)}ngAfterContentInit(){if(!this.template)throw new Error('You must provide a <ng-template cardTemplate> as a content child, or with [template]="myTemplateRef"')}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit()}ngOnChanges(t){super.ngOnChanges(t)}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(s.c),r.Lb(r.l),r.Lb(r.h))},t.\u0275cmp=r.Fb({type:t,selectors:[["dnd-sortable-list"]],contentQueries:function(t,e,n){var s;1&t&&r.Db(n,i.a,!1,r.K),2&t&&r.lc(s=r.ac())&&(e.renderTemplates=s)},inputs:{template:"template"},features:[r.yb([{provide:a.a,useExisting:t}]),r.wb,r.xb],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&r.rc(0,l,2,4,"ng-container",0),2&t&&r.gc("ngForOf",e.children)("ngForTrackBy",e.trackById)},directives:[c.k,c.p],styles:["[_nghost-%COMP%] {\n      display: block;\n    }"],changeDetection:0}),t})()},"8Kv9":function(t,e,n){"use strict";n.d(e,"b",(function(){return r.a})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return d})),n.d(e,"e",(function(){return b})),n.d(e,"a",(function(){return x})),n("Lty/"),n("6tfF"),n("HHHL");var r=n("whu5"),s=(n("HNCh"),n("iIRS"),function(t){return t.BeginDrag="BeginDrag",t.Hover="Hover",t.Drop="Drop",t.EndDrag="EndDrag",t}({}));class i{constructor(t,e){this.type=t,this.item=e,this.event=s.BeginDrag}}class a{constructor(t,e){this.type=t,this.item=e,this.event=s.Hover}}class c{constructor(t,e){this.type=t,this.item=e,this.event=s.Drop}}class o{constructor(t,e){this.type=t,this.item=e,this.event=s.EndDrag}}class d{constructor(t,e,n){this.store=t,this.actionType=e,this.beginDrag=(t,e)=>{this.store.dispatch(new i(this.actionType,t))},this.hover=(t,e)=>{this.store.dispatch(new a(this.actionType,t))},this.drop=(t,e)=>{this.store.dispatch(new c(this.actionType,t))},this.endDrag=(t,e)=>{this.store.dispatch(new o(this.actionType,t))},void 0!==n.type&&(this.type=n.type),void 0!==n.accepts&&(this.accepts=n.accepts),void 0!==n.trackBy&&(this.trackBy=n.trackBy),void 0!==n.getList&&(this.getList=n.getList),void 0!==n.canDrag&&(this.canDrag=n.canDrag),void 0!==n.canDrop&&(this.canDrop=n.canDrop),void 0!==n.isDragging&&(this.isDragging=n.isDragging),void 0!==n.createData&&(this.createData=n.createData)}}var l=n("ZTXN"),h=n("Ohay"),g=n("xVbo");const p=Symbol("SPILLED_LIST_ID");function b(t,e,n){const r=t=>t?(t.hover={listId:p,index:-1},Object.assign({},t)):null,s=new l.a,i=t.dropTarget(e,{hover:t=>{if(t.canDrop()&&t.isOver({shallow:!0})){const e=r(t.getItem());s.next(e)}else s.next(null)},drop:n.drop&&(t=>{const e=r(t.getItem());t.didDrop()||n.drop&&e&&n.drop(e)})||void 0}),a=s.pipe(Object(h.a)(),Object(g.a)(t=>!!t)).subscribe(t=>{n.hover&&t&&n.hover(t)});return i.add(a),i}var u=n("2kYt"),f=n("Qq0t"),m=n("EM62");let x=(()=>{class t{}return t.\u0275mod=m.Jb({type:t}),t.\u0275inj=m.Ib({factory:function(e){return new(e||t)},imports:[[u.c,f.b]]}),t})()},HHHL:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("EM62");let s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","dndSortableTemplate",""]]}),t})()},HNCh:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("Qq0t"),s=n("iIRS"),i=n("EM62");const a=Symbol("EXTERNAL_LIST_ID");let c=(()=>{class t{constructor(t,e){this.dnd=t,this.el=e,this.source=this.dnd.dragSource(null,{canDrag:t=>!this.spec||!this.spec.canDrag||this.spec.canDrag(void 0,void 0,t),beginDrag:()=>{if("function"!=typeof this.spec.createData)throw new Error("spec.createData must be a function");return{type:this.spec.type,data:this.spec.createData(),hover:{index:-1,listId:a},isInternal:!1,index:-1,listId:a,size:this.size()}},endDrag:t=>{const e=t.getItem();e&&this.spec&&this.spec.endDrag&&this.spec.endDrag(e,t)}})}size(){const t=this.el.nativeElement.getBoundingClientRect();return new s.b(t.width||t.right-t.left,t.height||t.bottom-t.top)}ngOnChanges(){this.source.setType(this.spec.type)}ngOnDestroy(){this.source.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(r.c),i.Lb(i.l))},t.\u0275dir=i.Gb({type:t,selectors:[["","dndSortableExternal",""]],inputs:{spec:["dndSortableExternal","spec"]},exportAs:["dndSortableExternal"],features:[i.xb]}),t})()},"Lty/":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("C05f"),s=n("bwdy"),i=n("Qq0t"),a=n("iIRS"),c=n("EM62");let o=(()=>{class t{constructor(t,e,n){this.dnd=t,this.el=e,this.cdr=n,this.listId=Math.random().toString(),this.horizontal=!1,this.hoverTrigger=a.a.halfway,this.childrenSubject$=new r.a([]),this.children$=this.childrenSubject$,this.subs=new s.a,this.listSubs=new s.a,this.target=this.dnd.dropTarget(null,{canDrop:t=>{if(!this.acceptsType(t.getItemType()))return!1;const e=t.getItem();return!!e&&this.getCanDrop(e,t)},drop:t=>{const e=t.getItem();return e&&this.getCanDrop(e,t)&&this.spec&&this.spec.drop&&this.spec.drop(e,t),{}},hover:t=>{const e=t.getItem();this.children&&function(t){for(let e of t)return!1;return!0}(this.children)&&e&&this.getCanDrop(e,t)&&t.isOver({shallow:!0})&&this.callHover(e,t,{listId:this.listId,index:0})}},this.subs)}updateSubscription(){if(null!=this.listId&&this.spec&&(this.listSubs&&(this.subs.remove(this.listSubs),this.listSubs.unsubscribe()),this.spec.getList)){const t=this.spec.getList(this.listId);this.listSubs=t&&t.subscribe(t=>{t&&(this.childrenSubject$.next(t),this.children=t,this.cdr.markForCheck())}),this.subs.add(this.listSubs)}}contextFor(t,e){return{data:t,index:e,listId:this.listId,spec:this.spec,horizontal:this.horizontal,hoverTrigger:this.hoverTrigger}}getCanDrop(t,e,n=!0){return this.spec&&this.spec.canDrop?this.spec.canDrop(t,e):n}callHover(t,e,n){n&&(t.hover=n,t=Object.assign({},t)),this.spec&&this.spec.hover&&this.spec.hover(t,e)}ngOnInit(){this.updateSubscription(),this.target.setTypes(this.getTargetType())}getTargetType(){return Array.isArray(this.spec.accepts)?this.spec.accepts:this.spec.accepts||this.spec.type}acceptsType(t){return null!=t&&(Array.isArray(this.spec.accepts)?-1!==this.spec.accepts.indexOf(t):t==this.getTargetType())}ngOnChanges({spec:t,listId:e}){e&&this.updateSubscription(),t&&this.updateSubscription(),this.target.setTypes(this.getTargetType())}ngAfterViewInit(){if(!this.el)throw new Error("dndSortable directive must have ElementRef");this.target.connectDropTarget(this.el.nativeElement)}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(i.c),c.Lb(c.l),c.Lb(c.h))},t.\u0275dir=c.Gb({type:t,selectors:[["","dndSortable",""]],inputs:{listId:"listId",horizontal:"horizontal",spec:"spec",children:"children",hoverTrigger:"hoverTrigger"},exportAs:["dndSortable"],features:[c.xb]}),t})()},iIRS:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s}));class r{constructor(t,e){this.width=t,this.height=e}style(){return{width:this.width+"px",height:this.height+"px"}}}var s=function(t){return t.halfway="halfway",t.fixed="fixed",t}({})},lwkX:function(t,e,n){"use strict";n.r(e),n.d(e,"KanbanModule",(function(){return dt}));var r=n("2kYt"),s=n("sEIs"),i=n("nIj0"),a=n("sN6X"),c=n("Qq0t"),o=n("m3KN"),d=n("8Kv9"),l=n("JqZp");const h={CARD:"KANBAN_CARD",LIST:"KANBAN_LIST"};var g=n("Mrh4");function p(t,e){const n=t.slice(0);return e(n),n}function b(t,e,n){const r=t.findIndex(t=>t.id===e);if(-1===r)return t;const s=Object.assign(Object.assign({},t[r]),{cards:p(t[r].cards,n)});return p(t,t=>{t.splice(r,1,s)})}function u(t,e,n){return p(t,t=>{t.splice(n,0,e)})}function f(t,e){return p(t,t=>{t.splice(e,1)})}function m(t,e,n){return b(t,e,t=>{t.splice(n,1)})}function x(t,e,n,r){return b(t,n,t=>{t.splice(r,0,e)})}const v=[{id:0,title:"To Do",cards:[{id:1,title:g.lorem.sentence()},{id:2,title:g.lorem.sentence()},{id:3,title:g.lorem.sentence()},{id:4,title:g.lorem.sentence()},{id:5,title:"This card is a bigger than the other ones. "+g.lorem.sentence()+" "+g.lorem.sentence()}]},{id:1,title:"Doing",cards:[{id:6,title:g.company.bs()},{id:7,title:g.company.bs()},{id:8,title:g.company.bs()},{id:9,title:g.company.bs()},{id:10,title:g.company.bs()}]},{id:2,title:"Done",cards:[{id:11,title:g.name.jobTitle()},{id:12,title:g.name.jobTitle()},{id:13,title:g.name.jobTitle()},{id:14,title:g.name.jobTitle()},{id:15,title:g.name.jobTitle()}]}];var y=function(t){return t.SortList="[Kanban] SortList",t.SortCard="[Kanban] SortCard",t.AddCard="[Kanban] AddCard",t.RemoveCard="[Kanban] RemoveCard",t.Spill="[Kanban] Spill",t}({});class w{constructor(t,e){this.listId=t,this.title=e,this.type=y.AddCard}}class O{constructor(t){this.item=t,this.type=y.RemoveCard}}class I{constructor(t){this.item=t,this.type=y.Spill}}const C={board:v,draggingBoard:null,cardInFlight:null,listInFlight:null,nextId:1e3,spilledCard:!1,isCopying:!1,shouldCopy:!1},D=t=>Object.assign(Object.assign({},t),{draggingBoard:null,cardInFlight:null,listInFlight:null,isCopying:!1,spilledCard:!1}),S=Symbol("CLONED_CARD"),T=(t,e)=>Object.assign(Object.assign({},t),{id:e}),k=(t,e)=>{let{board:n,nextId:r}=t;if(t.cardInFlight){const{data:s,hover:i}=t.cardInFlight;if(t.isCopying)r++,n=t.spilledCard?t.board:x(t.board,e,i.listId,i.index);else{const e=t.draggingBoard||t.board;n=t.spilledCard?e:x(e,s,i.listId,i.index)}}return Object.assign(Object.assign({},D(t)),{board:n,nextId:r})};function M(t=C,e){const n=t.draggingBoard||t.board;switch(e.type){case y.SortList:return function(t,e){const n=t.draggingBoard||t.board,{data:r,index:s,hover:i}=e.item;switch(e.event){case d.d.BeginDrag:return Object.assign(Object.assign({},t),{draggingBoard:f(t.board,s),listInFlight:e.item});case d.d.Hover:return Object.assign(Object.assign({},t),{listInFlight:e.item});case d.d.Drop:return Object.assign(Object.assign({},D(t)),{board:u(n,r,i.index)});case d.d.EndDrag:return D(t);default:return t}}(t,e);case y.SortCard:return function(t,e){const{index:n,listId:r}=e.item;switch(t=Object.assign(Object.assign({},t),{spilledCard:!1}),e.event){case d.d.BeginDrag:return Object.assign(Object.assign({},t),{draggingBoard:m(t.board,r,n),cardInFlight:e.item,isCopying:t.shouldCopy&&1===r});case d.d.Hover:return Object.assign(Object.assign({},t),{cardInFlight:e.item});case d.d.Drop:return k(t,T(t.cardInFlight.data,t.nextId));case d.d.EndDrag:return D(t);default:return t}}(t,e);case y.AddCard:{const r={id:t.nextId,title:e.title},s=n.find(t=>t.id===e.listId).cards.length;return Object.assign(Object.assign({},D(t)),{board:x(t.board,r,e.listId,s),nextId:t.nextId+1})}case y.RemoveCard:{const{listId:n,index:r}=e.item;return Object.assign(Object.assign({},D(t)),{board:m(t.board,n,r)})}case y.Spill:return Object.assign(Object.assign({},t),{spilledCard:!0,cardInFlight:e.item});default:return t}}const j=Object(a.h)("kanban"),R=Object(a.i)(j,t=>t.isCopying),L=Object(a.i)(j,t=>t.cardInFlight),F=Object(a.i)(R,L,(t,e)=>t&&e?T(e.data,S):null),P=Object(a.i)(j,t=>t.board),_=Object(a.i)(j,F,(t,e)=>{const{cardInFlight:n,listInFlight:r}=t,s=t.draggingBoard||t.board;if(null!=n)return k(t,e).board;if(null!=r){const{hover:t,data:e}=r;return u(s,e,t.index)}return s});var z=n("EM62"),B=n("8dL6"),E=n("xVbo");let Q=(()=>{class t{constructor(t){this.store=t,this.boardSpec=new d.c(this.store,y.SortList,{type:h.LIST,trackBy:t=>t.id,getList:t=>this.store.pipe(Object(a.j)(_))}),this.isCopying=!1,this.subs=this.store.pipe(Object(a.j)(R)).subscribe(t=>this.isCopying=t),this.listSpec=new d.c(this.store,y.SortCard,{type:h.CARD,trackBy:t=>t.id,getList:t=>this.store.pipe(Object(a.j)((t=>Object(a.i)(P,e=>{const n=e.find(e=>e.id===t);return n&&n.cards}))(t)),Object(E.a)(t=>null!=t)),isDragging:(t,e)=>t.id===(this.isCopying?S:e.data.id)})}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(z.Vb(a.b))},t.\u0275prov=z.Hb({token:t,factory:t.\u0275fac}),t})();var A=n("4s1X"),H=n("6tfF"),$=n("HHHL"),N=n("xBIF");function K(t,e){if(1&t&&(z.Rb(0,"div",1),z.Rb(1,"div"),z.Mb(2,"i",2),z.Rb(3,"span"),z.tc(4,"Drop here to delete"),z.Qb(),z.Qb(),z.Mb(5,"div",3),z.Qb()),2&t){const t=e.ngIf,n=z.bc();z.Cb("isOver",t.isOver),z.gc("dropTarget",n.target),z.zb(5),z.gc("ngStyle",n.getStyle(t.isOver,t.item))}}let q=(()=>{class t{constructor(t){this.dnd=t,this.dropped=new z.n,this.target=this.dnd.dropTarget(h.CARD,{canDrop:t=>t.getItem().isInternal,drop:t=>{this.dropped.emit(t.getItem())}}),this.collect$=this.target.listen(t=>({item:t.getItem(),isOver:t.isOver()&&t.canDrop()}))}getStyle(t,e){return t&&e?Object.assign(Object.assign({},e.size.style()),{transition:"all 50ms ease-in"}):{}}}return t.\u0275fac=function(e){return new(e||t)(z.Lb(c.c))},t.\u0275cmp=z.Fb({type:t,selectors:[["kanban-trash-can"]],outputs:{dropped:"dropped"},decls:2,vars:3,consts:[["class","trash-can",3,"isOver","dropTarget",4,"ngIf"],[1,"trash-can",3,"dropTarget"],[1,"fas","fa-trash-alt"],[1,"space",3,"ngStyle"]],template:function(t,e){1&t&&(z.rc(0,K,6,4,"div",0),z.cc(1,"async")),2&t&&z.gc("ngIf",z.dc(1,1,e.collect$))},directives:[r.l,N.d,r.m],pipes:[r.b],styles:[".fas[_ngcontent-%COMP%] { margin-right: 8px; }\n    .trash-can[_ngcontent-%COMP%] {\n        margin: 8px;\n        padding: 8px;\n        font-weight: 700;\n        text-shadow: 1px 1px rgba(255,255,255,0.2);\n        border-radius: 4px;\n        border: 1px dashed #333;\n        text-align: center;\n        transform-origin: 100% 100%;\n        transition: transform 50ms ease-out;\n    }\n    .space[_ngcontent-%COMP%] {\n        height: 0;\n        width: 0;\n        transition: all 50ms ease-out;\n    }\n    .isOver[_ngcontent-%COMP%] {\n        transition: transform 50ms ease-in;\n        background: rgba(255, 255, 255, 0.4);\n        transform: scale(1.2);\n    }"],changeDetection:0}),t})(),V=(()=>{class t{constructor(){this.preview=!1,this.placeholder=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=z.Fb({type:t,selectors:[["kanban-card"]],inputs:{card:"card",preview:"preview",placeholder:"placeholder"},decls:3,vars:5,consts:[[1,"card"]],template:function(t,e){1&t&&(z.Rb(0,"div",0),z.Rb(1,"p"),z.tc(2),z.Qb(),z.Qb()),2&t&&(z.Cb("card--preview",e.preview)("card--placeholder",e.placeholder),z.zb(2),z.uc(e.card.title))},styles:['[_nghost-%COMP%]{display:block}*[_ngcontent-%COMP%]{box-sizing:border-box}.card[_ngcontent-%COMP%]{padding:8px;border-radius:4px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#fff;box-shadow:0 1px 3px rgba(0,0,0,.08),0 1px 2px rgba(0,0,0,.16)}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.card--preview[_ngcontent-%COMP%]{-ms-transform:rotate(-2deg);transform:rotate(-2deg);width:100%;height:100%;box-shadow:0 8px 16px rgba(0,0,0,.25),0 6px 6px rgba(0,0,0,.13)}.card--placeholder[_ngcontent-%COMP%]{background:none;box-shadow:none}.card--placeholder[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.card--placeholder[_ngcontent-%COMP%]:before{content:"";border-radius:4px;background:rgba(0,0,0,.13);box-shadow:inset 0 3px 7px rgba(0,0,0,.13),inset 0 1px 3px rgba(0,0,0,.22);position:absolute;top:0;left:0;width:100%;height:100%}']}),t})();var G=n("HNCh");let Z=(()=>{class t{constructor(t){this.specs=t,this.ItemTypes=h,this.card={id:1337,title:"External card - drag me in!"},this.nextId=3e6,this.externalSpec=Object.assign(Object.assign({},this.specs.listSpec),{beginDrag:()=>{},createData:()=>({id:this.nextId++,title:this.card.title})})}}return t.\u0275fac=function(e){return new(e||t)(z.Lb(Q))},t.\u0275cmp=z.Fb({type:t,selectors:[["kanban-external"]],decls:3,vars:4,consts:[[1,"ext"],[3,"dndSortableExternal","card","dragSource","noHTML5Preview"],["ext","dndSortableExternal"]],template:function(t,e){if(1&t&&(z.Rb(0,"div",0),z.Mb(1,"kanban-card",1,2),z.Qb()),2&t){const t=z.mc(2);z.zb(1),z.gc("dndSortableExternal",e.externalSpec)("card",e.card)("dragSource",t.source)("noHTML5Preview",!0)}},directives:[V,G.a,N.c],styles:[".ext[_ngcontent-%COMP%] { margin-right: 8px; margin-bottom: 8px; display: inline-block; }"]}),t})(),J=(()=>{class t{constructor(){this.add=new z.n,this.addForm=new i.e({title:new i.c})}onSubmit(){this.add.emit(this.addForm.get("title").value),this.addForm.reset()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=z.Fb({type:t,selectors:[["kanban-add-card"]],outputs:{add:"add"},decls:2,vars:1,consts:[[3,"formGroup"],["placeholder","Add a card","formControlName","title",1,"title",3,"keyup.enter"]],template:function(t,e){1&t&&(z.Rb(0,"form",0),z.Rb(1,"input",1),z.Zb("keyup.enter",(function(){return e.onSubmit()})),z.Qb(),z.Qb()),2&t&&z.gc("formGroup",e.addForm)},directives:[i.n,i.i,i.f,i.b,i.h,i.d],styles:[".title[_ngcontent-%COMP%] {\n        box-sizing: border-box;\n        border: none;\n        width: 100%;\n        background: rgba(0, 0, 0, 0);\n        padding: 6px 8px;\n    }\n    .title[_ngcontent-%COMP%]:focus {\n        background: #fff;\n    }"]}),t})();var X=n("Lty/"),Y=n("whu5");function U(t,e){if(1&t&&(z.Mb(0,"kanban-card",8,9),z.cc(2,"async")),2&t){const t=e.$implicit,n=e.index,r=z.mc(1);z.bc();const s=z.mc(1);z.gc("card",t)("dndSortableRender",s.contextFor(t,n))("dragSource",r.source)("noHTML5Preview",!0)("placeholder",z.dc(2,5,r.isDragging$))}}function W(t,e){if(1&t&&(z.Rb(0,"div",5,6),z.rc(2,U,3,7,"kanban-card",7),z.Qb()),2&t){const t=z.bc();z.gc("spec",t.specs.listSpec)("listId",t.list.id),z.zb(2),z.gc("ngForOf",t.list.cards)("ngForTrackBy",t.trackById)}}function tt(t,e){1&t&&z.Mb(0,"kanban-card",12),2&t&&z.gc("card",e.$implicit)}function et(t,e){if(1&t&&(z.Rb(0,"div",10),z.rc(1,tt,1,1,"kanban-card",11),z.Qb()),2&t){const t=z.bc();z.zb(1),z.gc("ngForOf",t.list.cards)("ngForTrackBy",t.trackById)}}let nt=(()=>{class t{constructor(t,e){this.specs=t,this.render=e,this.preview=!1,this.addCard=new z.n,this.placeholder$=this.render&&this.render.source.listen(t=>t.isDragging()),this.isOver$=this.render&&this.render.target.listen(t=>t.canDrop()&&t.isOver()),this.trackById=(t,e)=>e.id}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(z.Lb(Q),z.Lb(d.b,8))},t.\u0275cmp=z.Fb({type:t,selectors:[["kanban-list"]],inputs:{list:"list",preview:"preview"},outputs:{addCard:"addCard"},decls:9,vars:11,consts:[[1,"list"],[1,"handle",3,"dragSource","noHTML5Preview"],["class","cards-container","dndSortable","",3,"spec","listId",4,"ngIf","ngIfElse"],["plain",""],[3,"add"],["dndSortable","",1,"cards-container",3,"spec","listId"],["clist","dndSortable"],[3,"card","dndSortableRender","dragSource","noHTML5Preview","placeholder",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","dndSortableRender","dragSource","noHTML5Preview","placeholder"],["render","dndSortableRender"],[1,"cards-container"],[3,"card",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card"]],template:function(t,e){if(1&t&&(z.Rb(0,"div",0),z.cc(1,"async"),z.Rb(2,"div",1),z.Rb(3,"h3"),z.tc(4),z.Qb(),z.Qb(),z.rc(5,W,3,4,"div",2),z.rc(6,et,2,2,"ng-template",null,3,z.sc),z.Rb(8,"kanban-add-card",4),z.Zb("add",(function(t){return e.addCard.emit(t)})),z.Qb(),z.Qb()),2&t){const t=z.mc(7);z.Cb("list--preview",e.preview)("list--placeholder",z.dc(1,9,null==e.render?null:e.render.isDragging$)),z.zb(2),z.gc("dragSource",null==e.render?null:e.render.source)("noHTML5Preview",!0),z.zb(2),z.uc(e.list.title),z.zb(1),z.gc("ngIf",e.render)("ngIfElse",t)}},directives:[N.c,r.l,J,X.a,r.k,V,Y.a],pipes:[r.b],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}.cards-container[_ngcontent-%COMP%]{min-height:20px}.cards-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:6px}.list[_ngcontent-%COMP%]{position:relative;width:240px;padding:8px;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#eee;box-shadow:0 1px 3px rgba(0,0,0,.08),0 1px 2px rgba(0,0,0,.16)}.list--preview[_ngcontent-%COMP%]{box-shadow:0 14px 28px rgba(0,0,0,.2),0 10px 10px rgba(0,0,0,.1)}.list--placeholder[_ngcontent-%COMP%]{background:none;box-shadow:none}.list--placeholder[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.list--placeholder[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.13);border-radius:4px;box-shadow:inset 0 3px 7px rgba(0,0,0,.13),inset 0 1px 3px rgba(0,0,0,.22)}.handle[_ngcontent-%COMP%]{margin:-8px;padding:8px}.handle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px}'],changeDetection:0}),t})();function rt(t,e){if(1&t&&z.Mb(0,"kanban-card",8),2&t){const t=z.bc().item;z.gc("card",t.data)("preview",!0)("ngStyle",t.size.style())}}function st(t,e){if(1&t&&z.Mb(0,"kanban-list",9),2&t){const t=z.bc().item;z.gc("list",t.data)("preview",!0)("ngStyle",t.size.style())}}function it(t,e){if(1&t&&(z.Pb(0,5),z.rc(1,rt,1,3,"kanban-card",6),z.rc(2,st,1,3,"kanban-list",7),z.Ob()),2&t){const t=e.$implicit,n=z.bc();z.gc("ngSwitch",t),z.zb(1),z.gc("ngSwitchCase",n.ItemTypes.CARD),z.zb(1),z.gc("ngSwitchCase",n.ItemTypes.LIST)}}function at(t,e){if(1&t){const t=z.Sb();z.Rb(0,"kanban-list",10),z.Zb("addCard",(function(n){z.nc(t);const r=e.$implicit;return z.bc().addCard(r.data.id,n)})),z.Qb()}if(2&t){const t=e.$implicit;z.gc("dndSortableRender",t)("list",t.data)}}let ct=(()=>{class t{constructor(t,e){this.store=t,this.specs=e,this.ItemTypes=h}addCard(t,e){this.store.dispatch(new w(t,e))}removeCard(t){this.store.dispatch(new O(t))}}return t.\u0275fac=function(e){return new(e||t)(z.Lb(a.b),z.Lb(Q))},t.\u0275cmp=z.Fb({type:t,selectors:[["kanban-board"]],decls:7,vars:4,consts:[[3,"allBackends"],["hoverTrigger","fixed",1,"kanban-root",3,"listId","spec","horizontal"],["dndSortableTemplate",""],[1,"trash-zone"],[3,"dropped"],[3,"ngSwitch"],[3,"card","preview","ngStyle",4,"ngSwitchCase"],[3,"list","preview","ngStyle",4,"ngSwitchCase"],[3,"card","preview","ngStyle"],[3,"list","preview","ngStyle"],[3,"dndSortableRender","list","addCard"]],template:function(t,e){1&t&&(z.Rb(0,"dnd-preview",0),z.rc(1,it,3,3,"ng-template"),z.Qb(),z.Rb(2,"dnd-sortable-list",1),z.rc(3,at,1,2,"ng-template",2),z.Qb(),z.Rb(4,"div",3),z.Rb(5,"kanban-trash-can",4),z.Zb("dropped",(function(t){return e.removeCard(t)})),z.Qb(),z.Mb(6,"kanban-external"),z.Qb()),2&t&&(z.gc("allBackends",!0),z.zb(2),z.gc("listId",888)("spec",e.specs.boardSpec)("horizontal",!0))},directives:[A.a,H.a,$.a,q,Z,r.n,r.o,V,r.m,nt,Y.a],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.kanban-root[_ngcontent-%COMP%]{background:#828cca;-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;min-height:500px;overflow-x:scroll;padding:8px;-ms-flex-pack:start;justify-content:flex-start}.kanban-root[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:8px}.trash-zone[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;text-align:right}"],changeDetection:0}),t})(),ot=(()=>{class t{constructor(t,e,n){this.dnd=t,this.el=e,this.store=n,this.cardSpill=Object(d.e)(this.dnd,h.CARD,{hover:t=>this.store.dispatch(new I(t))})}ngAfterViewInit(){this.cardSpill.connectDropTarget(this.el.nativeElement)}ngOnDestroy(){this.cardSpill.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(z.Lb(c.c),z.Lb(z.l),z.Lb(a.b))},t.\u0275cmp=z.Fb({type:t,selectors:[["kanban-container"]],decls:20,vars:0,consts:[[1,"text"],["path","sortable/kanban"],[1,"span","span--darkblue"],[1,"span","span--light"],[1,"relative"]],template:function(t,e){1&t&&(z.Rb(0,"div",0),z.Mb(1,"app-example-link",1),z.Rb(2,"p"),z.tc(3," This example uses "),z.Rb(4,"code"),z.tc(5,"@ng-dnd/sortable"),z.Qb(),z.tc(6,". There are two kinds of sortable in play here: "),z.Qb(),z.Rb(7,"ul"),z.Rb(8,"li"),z.tc(9,"One "),z.Rb(10,"span",2),z.tc(11,"horizontal"),z.Qb(),z.tc(12," one, whose 'cards' are the vertical lists. Try grabbing a whole list by its header, and reordering. "),z.Qb(),z.Rb(13,"li"),z.tc(14,"Many "),z.Rb(15,"span",3),z.tc(16,"vertical"),z.Qb(),z.tc(17," ones, which contain the kanban cards. Try moving the cards between lists. "),z.Qb(),z.Qb(),z.Qb(),z.Rb(18,"div",4),z.Mb(19,"kanban-board"),z.Qb())},directives:[B.a,ct],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.relative[_ngcontent-%COMP%]{position:relative}.text[_ngcontent-%COMP%]{background:#fff;max-width:800px}.span[_ngcontent-%COMP%]{border-radius:4px;padding:0 2px}.span--darkblue[_ngcontent-%COMP%]{background:#828cca;color:#fff}.span--light[_ngcontent-%COMP%]{background:#eee;color:#000;box-shadow:0 1px 3px rgba(0,0,0,.08),0 1px 2px rgba(0,0,0,.16)}"]}),t})(),dt=(()=>{class t{}return t.\u0275mod=z.Jb({type:t}),t.\u0275inj=z.Ib({factory:function(e){return new(e||t)},providers:[Q],imports:[[r.c,l.a,c.b,o.a,d.a,i.l,a.d,a.d.forFeature("kanban",M),s.d.forChild([{path:"",component:ot}])]]}),t})()},whu5:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("Qq0t"),s=n("bwdy"),i=n("iIRS");function a(t,e,n,r){const{hover:s}=e,i=(t.horizontal?r.x:r.y)<(t.horizontal?n.left:n.top)+(t.horizontal?n.width||n.right-n.left:n.height||n.bottom-n.top)/2;let a;return a=t.listId===s.listId?t.index<s.index?i?t.index:t.index+1:i?t.index-1:t.index:i?t.index:t.index+1,a}function c(t){return t.index}var o=n("EM62");const d=requestAnimationFrame||webkitRequestAnimationFrame||(t=>setTimeout(t,0));let l=(()=>{class t{constructor(t,e){this.dnd=t,this.el=e,this.subs=new s.a,this.sameIds=(t,e)=>t&&e.data&&this.spec.trackBy(t)===this.spec.trackBy(e.data),this.target=this.dnd.dropTarget(null,{canDrop:()=>!1,hover:t=>{this.hover(t)}},this.subs),this.source=this.dnd.dragSource(null,{canDrag:t=>this.getCanDrag(t),isDragging:t=>this.isDragging(t.getItem()),beginDrag:t=>{const e=this.createItem();return this.spec&&this.spec.beginDrag&&d(()=>{this.spec&&this.spec.beginDrag&&this.spec.beginDrag(e,t)}),e},endDrag:t=>{const e=t.getItem();e&&this.spec&&this.spec.endDrag&&this.spec.endDrag(e,t)}},this.subs),this.isDragging$=this.source.listen(t=>t.isDragging())}get data(){return this.context.data}get index(){return this.context.index}get type(){return this.context.spec&&this.context.spec.type}get listId(){return this.context.listId}get accepts(){const t=this.context.spec;return t?Array.isArray(t.accepts)?t.accepts:t.accepts||t.type:[]}get spec(){return this.context.spec}createItem(){return{data:this.data,index:this.index,size:this.size(),type:this.type,isInternal:!0,listId:this.listId,hover:{index:this.index,listId:this.listId}}}getCanDrag(t){return!this.spec||!this.spec.canDrag||this.spec.canDrag(this.data,this.listId,t)}isDragging(t){return this.spec&&this.spec.isDragging?t&&this.spec.isDragging(this.data,t)||!1:t&&this.sameIds(this.data,t)||!1}hover(t){const e=t.getItem(),n=t.getClientOffset();if(null==e||null==n)return;if(this.isDragging(e)&&this.index===e.hover.index&&this.listId===e.hover.listId)return;const{hover:r}=e;let s=function(t){switch(t){case i.a.fixed:return c;default:return a}}(this.context.hoverTrigger)(this.context,e,this.rect(),n);if(s<0)throw new Error("@ng-dnd/sortable: Cannot move a card to an index < 0.");if(s!==r.index||this.listId!==r.listId){if(e.hover={index:s,listId:this.listId},this.spec&&this.spec.canDrop&&!this.spec.canDrop(e,t))return;this.spec&&this.spec.hover&&this.spec.hover(Object.assign({},e),t)}}rect(){if(!this.el)throw new Error("@ng-dnd/sortable: [dndSortableRender] expected to be attached to a real DOM element");return this.el.nativeElement.getBoundingClientRect()}size(){const t=this.rect();return new i.b(t.width||t.right-t.left,t.height||t.bottom-t.top)}ngOnInit(){this.target.setTypes(this.accepts),this.source.setType(this.type)}ngAfterViewInit(){this.el&&this.target.connectDropTarget(this.el.nativeElement)}ngOnChanges(){this.target.setTypes(this.accepts),this.source.setType(this.type)}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Lb(r.c),o.Lb(o.l))},t.\u0275dir=o.Gb({type:t,selectors:[["","dndSortableRender",""]],inputs:{context:["dndSortableRender","context"]},exportAs:["dndSortableRender"],features:[o.xb]}),t})()}}]);