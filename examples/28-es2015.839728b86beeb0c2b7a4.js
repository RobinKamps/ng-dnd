(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"00+w":function(t,n,e){"use strict";e.r(n),e.d(n,"XyPadModule",(function(){return Q}));var i=e("2kYt"),r=e("nIj0"),s=e("sEIs"),o=e("Qq0t");function a(t){return n=>({x:Math.round(n.x/t)*t,y:Math.round(n.y/t)*t})}var c=e("EM62"),g=e("8dL6"),d=e("xBIF"),l=e("NyMZ");let p=(()=>{class t{constructor(){this.compensate=!1}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=c.Fb({type:t,selectors:[["xy-box"]],inputs:{compensate:"compensate"},decls:1,vars:2,consts:[[1,"spot"]],template:function(t,n){1&t&&c.Mb(0,"div",0),2&t&&c.Cb("compensate",n.compensate)},styles:[".spot[_ngcontent-%COMP%] {\n        background: #33e8d5;\n        box-shadow: 0 0 8px #33e8d5;\n        cursor: move;\n        padding: 16px;\n        border-radius: 16px;\n    }\n    .compensate[_ngcontent-%COMP%] {\n        margin-left: -16px;\n        margin-top: -16px;\n    }"]}),t})(),b=(()=>{class t{constructor(){this.math=Math,this.width=400,this.height=400}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=c.Fb({type:t,selectors:[["xy-crosshairs"]],inputs:{x:"x",y:"y",width:"width",height:"height"},decls:6,vars:18,consts:[[1,"crosshair","horizontal"],[1,"label"],[1,"crosshair","vertical"]],template:function(t,n){1&t&&(c.Rb(0,"div",0),c.Rb(1,"span",1),c.tc(2),c.Qb(),c.Qb(),c.Rb(3,"div",2),c.Rb(4,"span",1),c.tc(5),c.Qb(),c.Qb()),2&t&&(c.qc("top",n.y-1,"px")("width",n.width,"px"),c.Cb("swap-ends",n.x<70)("flip",n.y>n.height-30),c.zb(2),c.uc(n.math.round(n.y)),c.zb(1),c.qc("left",n.x-1,"px")("height",n.height,"px"),c.Cb("swap-ends",n.y<70)("flip",n.x>n.width-40),c.zb(2),c.uc(n.math.round(n.x)))},styles:[".crosshair[_ngcontent-%COMP%]{position:absolute;border:0 solid #33e8d5}.crosshair.horizontal[_ngcontent-%COMP%]{border-top-width:2px;width:100%;top:0}.crosshair.vertical[_ngcontent-%COMP%]{border-left-width:2px;height:100%;top:0}.label[_ngcontent-%COMP%]{position:absolute;background-color:#33e8d5;padding:2px 2px 1px;left:0;top:0}.swap-ends.horizontal[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{left:auto;right:0}.flip.horizontal[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .swap-ends.vertical[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{top:auto;bottom:0}.flip.vertical[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{left:auto;right:0}"]}),t})();function h(t,n){if(1&t&&c.Mb(0,"xy-crosshairs",4),2&t){const t=c.bc();c.gc("x",t.spot.x)("y",t.spot.y)}}let u=(()=>{class t{constructor(t){this.dnd=t,this.endDrag=new c.n,this.source=this.dnd.dragSource("SPOT",{beginDrag:()=>this.spot,isDragging:()=>!0,endDrag:()=>{this.endDrag.emit(this.spot)}}),this.isDragging$=this.source.listen(t=>t.isDragging())}ngOnInit(){this.source.connectDragPreview(Object(l.a)(),{captureDraggingState:!0})}ngOnDestroy(){this.source.unsubscribe()}getStyles(){}getRootStyles(t){const{x:n,y:e}=this.spot,i=`translate3d(${n}px, ${e}px, 0)`;return{position:"relative",marginLeft:"-16px",marginTop:"-16px",transform:i,WebkitTransform:i,opacity:t?0:null,height:t?0:null}}}return t.\u0275fac=function(n){return new(n||t)(c.Lb(o.c))},t.\u0275cmp=c.Fb({type:t,selectors:[["xy-draggable-box"]],inputs:{spot:"spot"},outputs:{endDrag:"endDrag"},decls:7,vars:7,consts:[[1,"root",3,"dragSource","ngStyle"],[1,"draggable-node"],[1,"fullsize"],[3,"x","y",4,"ngIf"],[3,"x","y"]],template:function(t,n){1&t&&(c.Rb(0,"div",0),c.cc(1,"async"),c.Rb(2,"div",1),c.Mb(3,"xy-box"),c.Qb(),c.Mb(4,"div",2),c.Qb(),c.rc(5,h,1,2,"xy-crosshairs",3),c.cc(6,"async")),2&t&&(c.gc("dragSource",n.source)("ngStyle",n.getRootStyles(c.dc(1,3,n.isDragging$))),c.zb(5),c.gc("ngIf",!c.dc(6,5,n.isDragging$)))},directives:[d.c,i.m,p,i.l,b],pipes:[i.b],styles:[".root[_ngcontent-%COMP%] {\n        cursor: move;\n    }\n    xy-crosshairs[_ngcontent-%COMP%], .draggable-node[_ngcontent-%COMP%] {\n        pointer-events: none;\n        position: absolute;\n    }\n    xy-crosshairs[_ngcontent-%COMP%] { margin-top: 16px; }\n    .fullsize[_ngcontent-%COMP%] {\n        position: absolute;\n        left: -400px;\n        top: -400px;\n        width: 800px;\n        height: 800px;\n    }"],changeDetection:0}),t})();var x=e("YtkY"),f=e("xVbo");function y(t,n){return{x:t.x+n.x,y:t.y+n.y}}function m(t,n){return{x:t.x-n.x,y:t.y-n.y}}let v=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=c.Fb({type:t,selectors:[["xy-box-drag-preview"]],decls:2,vars:1,consts:[[1,"phresh"],[3,"compensate"]],template:function(t,n){1&t&&(c.Rb(0,"div",0),c.Mb(1,"xy-box",1),c.Qb()),2&t&&(c.zb(1),c.gc("compensate",!1))},directives:[p],styles:["[_nghost-%COMP%] {\n        display: inline-block;\n    }\n    @keyframes animatedBackground {\n        from {\n            background: rgba(64, 160, 150, 0.8);\n        }\n        to {\n            background: rgba(64, 160, 150, 0.2);\n        }\n    }\n    .phresh[_ngcontent-%COMP%] {\n        \n        overflow: auto;\n        margin-left: -32px;\n        margin-top: -32px;\n        padding: 16px;\n        border-radius: 32px;\n        animation-name: animatedBackground;\n        animation-duration: 1.5s;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n        animation-direction: alternate;\n    }"]}),t})();function O(t,n){if(1&t&&c.Mb(0,"xy-crosshairs",5),2&t){const t=n.ngIf;c.gc("x",t.x)("y",t.y)}}function w(t,n){if(1&t&&c.Mb(0,"xy-box-drag-preview",6),2&t){const t=c.bc(2).ngIf;c.gc("title",t.item.title)}}function M(t,n){if(1&t&&(c.Pb(0),c.rc(1,O,1,2,"xy-crosshairs",1),c.cc(2,"async"),c.Rb(3,"div",2),c.cc(4,"async"),c.Pb(5,3),c.rc(6,w,1,1,"xy-box-drag-preview",4),c.Ob(),c.Qb(),c.Ob()),2&t){const t=c.bc().ngIf,n=c.bc();c.zb(1),c.gc("ngIf",c.dc(2,4,n.crossStyle$)),c.zb(2),c.gc("ngStyle",c.dc(4,6,n.movingStyle$)),c.zb(2),c.gc("ngSwitch",t.itemType),c.zb(1),c.gc("ngSwitchCase","SPOT")}}function P(t,n){if(1&t&&(c.Pb(0),c.rc(1,M,7,8,"ng-container",0),c.Ob()),2&t){const t=n.ngIf;c.zb(1),c.gc("ngIf",t.isDragging)}}let C=(()=>{class t{constructor(t,n){this.dnd=t,this.el=n,this.snapToGrid=!1,this.snappingFunction=a(32),this.moved=new c.n,this.rect={x:0,y:0,width:0,height:0},this.dragLayer=this.dnd.dragLayer(),this.collect$=this.dragLayer.listen(t=>(this.setWindowRelativeOffset(),{item:t.getItem(),itemType:t.getItemType(),isDragging:t.isDragging(),initialOffset:this.absToRelative(t.getInitialSourceClientOffset()),currentOffset:this.absToRelative(t.getSourceClientOffset())})),this.movingStyle$=this.collect$.pipe(Object(x.a)(t=>this.getItemStyles(t)),Object(f.a)(t=>null!=t)),this.crossStyle$=this.collect$.pipe(Object(x.a)(t=>this.getCrosshairStyles(t)),Object(f.a)(t=>null!=t))}set incrementPx(t){this.snappingFunction=a(t)}absToRelative(t){return t&&m(t,this.rect)}setWindowRelativeOffset(){const t=this.el.nativeElement.getBoundingClientRect();this.rect={x:t.left,y:t.top,width:t.width,height:t.height}}getXY(t,n,e,i=!1){let r=Object.assign({},e),s=m(e,n);if(this.snapToGrid&&(r=m(r,n),r=this.snappingFunction(r),s=r,r=y(r,n)),t.fromCube){const n=y(t,m(s,{x:16,y:16})),e=this.getClippedOffset(n);return i&&this.moved.emit(e),e}const o=this.getClippedOffset(r);return i&&this.moved.emit(o),o}getClippedOffset(t){const n=y(t,{x:16,y:16});return(r=n.x)<0&&(r=0),r>(e=this.rect.width)&&(r=e),(s=n.y)<0&&(s=0),s>(i=this.rect.height)&&(s=i),{x:r,y:s};var e,i,r,s}getItemStyles({item:t,initialOffset:n,currentOffset:e}){if(!n||!e)return{display:"none"};const{x:i,y:r}=this.getXY(t,n,e,!0),s=`translate3d(${i}px, ${r}px, 0)`;return{transform:s,WebkitTransform:s}}getCrosshairStyles({item:t,initialOffset:n,currentOffset:e}){if(!n||!e)return null;const i=this.getXY(t,n,e);return{x:(r=Math.round)((s=i).x),y:r(s.y)};var r,s}ngAfterViewInit(){this.setWindowRelativeOffset()}ngOnDestroy(){this.dragLayer.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(c.Lb(o.c),c.Lb(c.l))},t.\u0275cmp=c.Fb({type:t,selectors:[["xy-custom-drag-layer"]],inputs:{snapToGrid:"snapToGrid",incrementPx:"incrementPx"},outputs:{moved:"moved"},decls:2,vars:3,consts:[[4,"ngIf"],[3,"x","y",4,"ngIf"],[3,"ngStyle"],[3,"ngSwitch"],[3,"title",4,"ngSwitchCase"],[3,"x","y"],[3,"title"]],template:function(t,n){1&t&&(c.rc(0,P,2,1,"ng-container",0),c.cc(1,"async")),2&t&&c.gc("ngIf",c.dc(1,1,n.collect$))},directives:[i.l,i.m,i.n,i.o,b,v],pipes:[i.b],styles:["[_nghost-%COMP%]{display:block;position:absolute;pointer-events:none;z-index:9000;left:0;top:0;width:100%;height:100%}"],changeDetection:0}),t})();function _(t,n){if(1&t&&c.Mb(0,"div",7),2&t){const t=n.$implicit,e=c.bc();c.qc("top",e.px*t-1,"px")}}function k(t,n){if(1&t&&c.Mb(0,"div",8),2&t){const t=n.$implicit,e=c.bc();c.qc("left",e.px*t-1,"px")}}let T=(()=>{class t{constructor(t){this.dnd=t,this.x=50,this.y=100,this.endDrag=new c.n,this.moved=new c.n,this.snapToGrid=!1,this.px=32,this.snappingFunction=a(this.px),this.boxTarget=this.dnd.dropTarget("BOX",{}),this.incrementPx=25}get spot(){return{id:23,x:this.x,y:this.y}}set incrementPx(t){this.px=t,this.snappingFunction=a(t),this.setGridlines()}emitEach(t){this.moved.emit(t)}dragEnded(t){this.endDrag.emit()}ngOnDestroy(){this.boxTarget.unsubscribe()}setGridlines(){this.gridlines=new Array(Math.floor(400/this.px)-1).fill(0).map((t,n)=>n+1)}}return t.\u0275fac=function(n){return new(n||t)(c.Lb(o.c))},t.\u0275cmp=c.Fb({type:t,selectors:[["xy-drag-container"]],inputs:{x:"x",y:"y",snapToGrid:"snapToGrid",incrementPx:"incrementPx"},outputs:{endDrag:"endDrag",moved:"moved"},decls:7,vars:6,consts:[[1,"glow"],[1,"scanline"],[1,"square",3,"dropTarget"],["class","gridline horizontal",3,"top",4,"ngFor","ngForOf"],["class","gridline vertical",3,"left",4,"ngFor","ngForOf"],[3,"spot","endDrag"],[3,"snapToGrid","incrementPx","moved"],[1,"gridline","horizontal"],[1,"gridline","vertical"]],template:function(t,n){1&t&&(c.Mb(0,"div",0),c.Mb(1,"div",1),c.Rb(2,"div",2),c.rc(3,_,1,2,"div",3),c.rc(4,k,1,2,"div",4),c.Rb(5,"xy-draggable-box",5),c.Zb("endDrag",(function(t){return n.dragEnded(t)})),c.Qb(),c.Qb(),c.Rb(6,"xy-custom-drag-layer",6),c.Zb("moved",(function(t){return n.emitEach(t)})),c.Qb()),2&t&&(c.zb(2),c.gc("dropTarget",n.boxTarget),c.zb(1),c.gc("ngForOf",n.gridlines),c.zb(1),c.gc("ngForOf",n.gridlines),c.zb(1),c.gc("spot",n.spot),c.zb(1),c.gc("snapToGrid",n.snapToGrid)("incrementPx",n.px))},directives:[d.d,i.k,u,C],styles:['[_nghost-%COMP%]{display:block;width:400px;height:400px;box-sizing:content-box;background:#153242;border-radius:25px;border:12px solid #000}.square[_ngcontent-%COMP%], [_nghost-%COMP%]{position:relative;overflow:hidden}.square[_ngcontent-%COMP%]{z-index:3000;left:0;top:0;width:100%;height:100%;box-sizing:border-box}.gridline[_ngcontent-%COMP%]{position:absolute;border:0 solid #12a394}.gridline.horizontal[_ngcontent-%COMP%]{border-top-width:1px;left:0;width:100%}.gridline.vertical[_ngcontent-%COMP%]{border-left-width:1px;top:0;height:100%}.scanline[_ngcontent-%COMP%]:before{pointer-events:none;content:"";position:absolute;top:0;width:100%;height:5px;background:#fff;background:linear-gradient(180deg,rgba(255,0,0,0) 0,snow 50%,hsla(0,0%,100%,.98) 51%,rgba(255,0,0,0));opacity:.1;-webkit-animation:vline 3.25s linear infinite;animation:vline 3.25s linear infinite}.scanline[_ngcontent-%COMP%]:after{box-shadow:0 2px 6px rgba(25,25,25,.2),inset 0 1px rgba(50,50,50,.1),inset 0 3px rgba(50,50,50,.05),inset 0 3px 8px rgba(64,64,64,.05),inset 0 -5px 10px rgba(25,25,25,.1)}@-webkit-keyframes vline{0%{top:-30%}to{top:100%}}@keyframes vline{0%{top:-30%}to{top:100%}}.glow[_ngcontent-%COMP%]{pointer-events:none;height:100%;width:100%;left:0;top:0;position:absolute;box-shadow:inset 0 0 1px 1px rgba(64,64,64,.1);background:radial-gradient(ellipse at center,#0d756a 0,rgba(64,64,64,0) 90%);-ms-transform-origin:50% 50%;transform-origin:50% 50%;transform:perspective(20px) rotateX(.5deg) skewX(2deg) scale(1.03);-webkit-animation:glitch 1s linear infinite;animation:glitch 1s linear infinite;opacity:.9}.glow[_ngcontent-%COMP%]:after{background:radial-gradient(ellipse at center,rgba(0,0,0,.5) 0,rgba(64,64,64,0) 100%);opacity:.1}@-webkit-keyframes glitch{0%{transform:scaleY(1.002)}50%{transform:scaleY(1.0001)}to{transform:scaleX(1.001)}}@keyframes glitch{0%{transform:scaleY(1.002)}50%{transform:scaleY(1.0001)}to{transform:scaleX(1.001)}}']}),t})();const R=function(t,n){return{transform:t,WebkitTransform:n}};let D=(()=>{class t{constructor(t){this.dnd=t,this.endDrag=new c.n,this.source=this.dnd.dragSource("SPOT",{beginDrag:()=>({id:123,x:this.x,y:this.y,fromCube:!0}),endDrag:t=>{this.endDrag.emit()}})}}return t.\u0275fac=function(n){return new(n||t)(c.Lb(o.c))},t.\u0275cmp=c.Fb({type:t,selectors:[["xy-cube"]],inputs:{transform:"transform",x:"x",y:"y"},outputs:{endDrag:"endDrag"},decls:14,vars:6,consts:[[1,"container",3,"dragSource","noHTML5Preview"],["id","cube",3,"ngStyle"],[1,"front"],[1,"back"],[1,"right"],[1,"left"],[1,"top"],[1,"bottom"]],template:function(t,n){1&t&&(c.Rb(0,"section",0),c.Rb(1,"div",1),c.Rb(2,"figure",2),c.tc(3,"1"),c.Qb(),c.Rb(4,"figure",3),c.tc(5,"2"),c.Qb(),c.Rb(6,"figure",4),c.tc(7,"3"),c.Qb(),c.Rb(8,"figure",5),c.tc(9,"4"),c.Qb(),c.Rb(10,"figure",6),c.tc(11,"5"),c.Qb(),c.Rb(12,"figure",7),c.tc(13,"6"),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.gc("dragSource",n.source)("noHTML5Preview",!0),c.zb(1),c.gc("ngStyle",c.jc(3,R,n.transform,n.transform)))},directives:[d.c,i.m],styles:[".container[_ngcontent-%COMP%] {\n        width: 200px;\n        height: 200px;\n        position: relative;\n        perspective: 1000px;\n    }\n\n    #cube[_ngcontent-%COMP%] {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        transform-style: preserve-3d;\n    }\n\n    #cube[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%] {\n        margin: 0;\n        width: 196px;\n        height: 196px;\n        display: block;\n        position: absolute;\n        border: 2px solid black;\n        font-size: 68px;\n        text-align: center;\n        line-height: 196px;\n    }\n    #cube[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%] {\n        transform: rotateY(0deg) translateZ(100px);\n        background: #225378;\n    }\n    #cube[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%] {\n        transform: rotateX(180deg) translateZ(100px);\n        background: #1695a3;\n    }\n    #cube[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%] {\n        transform: rotateY(90deg) translateZ(100px);\n        background: #acf0f2;\n    }\n    #cube[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] {\n        transform: rotateY(-90deg) translateZ(100px);\n        background: #f3ffe2;\n    }\n    #cube[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%] {\n        transform: rotateX(90deg) translateZ(100px);\n        background: #eb7f00;\n    }\n    #cube[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%] {\n        transform: rotateX(-90deg) translateZ(100px);\n        background: #b0121b;\n    }"]}),t})(),z=(()=>{class t{constructor(){this.x=225,this.y=225,this.latestLocation={x:this.x,y:this.y},this._snapToGrid=!1,this._pixels=25}get snapToGrid(){return this._snapToGrid}set snapToGrid(t){this._snapToGrid=t,t&&this.snapOnce()}get pixels(){return this._pixels}set pixels(t){t>2&&(this._pixels=t,this.snapOnce())}snapOnce(){const t=a(this.pixels)({x:this.x,y:this.y});this.x=t.x||0,this.y=t.y||0,this.latestLocation=t}dragEnded(){this.x=this.latestLocation.x,this.y=this.latestLocation.y}get cubeTransform(){return`translateZ(-100px) rotateX(${-(this.latestLocation.y-200)/200*180}deg) rotateY(${(this.latestLocation.x-200)/200*180}deg)`}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=c.Fb({type:t,selectors:[["xy-drag-layer-container"]],decls:14,vars:9,consts:[["path","xy-pad"],[1,"flex"],[3,"x","y","snapToGrid","incrementPx","endDrag","moved"],["type","checkbox",3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],[1,"pad"],[3,"transform","x","y","endDrag"]],template:function(t,n){1&t&&(c.Mb(0,"app-example-link",0),c.Rb(1,"div",1),c.Rb(2,"div"),c.Rb(3,"xy-drag-container",2),c.Zb("endDrag",(function(){return n.dragEnded()}))("moved",(function(t){return n.latestLocation=t})),c.Qb(),c.Rb(4,"p"),c.Rb(5,"label"),c.Rb(6,"input",3),c.Zb("ngModelChange",(function(t){return n.snapToGrid=t})),c.Qb(),c.tc(7," Snap to grid "),c.Qb(),c.Qb(),c.Rb(8,"p"),c.Rb(9,"label"),c.Rb(10,"input",4),c.Zb("ngModelChange",(function(t){return n.pixels=t})),c.Qb(),c.tc(11," Pixels per gridline "),c.Qb(),c.Qb(),c.Qb(),c.Rb(12,"div",5),c.Rb(13,"xy-cube",6),c.Zb("endDrag",(function(){return n.dragEnded()})),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.zb(3),c.gc("x",n.x)("y",n.y)("snapToGrid",n.snapToGrid)("incrementPx",n.pixels),c.zb(3),c.gc("ngModel",n.snapToGrid),c.zb(4),c.gc("ngModel",n.pixels),c.zb(3),c.gc("transform",n.cubeTransform)("x",n.x)("y",n.y))},directives:[g.a,T,r.a,r.h,r.j,r.k,r.b,D],styles:[".flex[_ngcontent-%COMP%] {\n        display: flex;\n        flex-wrap: wrap;\n    }\n    .pad[_ngcontent-%COMP%] {\n        padding: 80px;\n    }"]}),t})();var S=e("JqZp");let Q=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(n){return new(n||t)},imports:[[i.c,r.g,o.b,s.d.forChild([{path:"",component:z}]),S.a]]}),t})()}}]);