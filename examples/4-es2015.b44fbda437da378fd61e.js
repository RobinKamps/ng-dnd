(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"6BAR":function(t,e,r){"use strict";var n;r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return $}));var i="undefined"!=typeof Symbol?Symbol("immer-nothing"):((n={})["immer-nothing"]=!0,n),s="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("immer-draftable"):"__$immer_draftable",o="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("immer-state"):"__$immer_state";function a(t){return!!t&&!!t[o]}function c(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t))return!0;var e=Object.getPrototypeOf(t);return!e||e===Object.prototype}(t)||!!t[s]||!!t.constructor[s])}var h=Object.assign||function(t,e){for(var r in e)l(e,r)&&(t[r]=e[r]);return t},u="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function p(t,e){if(void 0===e&&(e=!1),Array.isArray(t))return t.slice();var r=Object.create(Object.getPrototypeOf(t));return u(t).forEach((function(n){if(n!==o){var i=Object.getOwnPropertyDescriptor(t,n),s=i.value;if(i.get){if(!e)throw new Error("Immer drafts cannot have computed properties");s=i.get.call(t)}i.enumerable?r[n]=s:Object.defineProperty(r,n,{value:s,writable:!0,configurable:!0})}})),r}function f(t,e){if(Array.isArray(t))for(var r=0;r<t.length;r++)e(r,t[r],t);else u(t).forEach((function(r){return e(r,t[r],t)}))}function d(t,e){var r=Object.getOwnPropertyDescriptor(t,e);return!!r&&r.enumerable}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function g(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function y(t){if(!c(t))return t;if(Array.isArray(t))return t.map(y);var e=Object.create(Object.getPrototypeOf(t));for(var r in t)e[r]=y(t[r]);return e}var b=function(t){this.drafts=[],this.parent=t,this.canAutoFreeze=!0,this.patches=null};function v(t){t[o].revoke()}b.prototype.usePatches=function(t){t&&(this.patches=[],this.inversePatches=[],this.patchListener=t)},b.prototype.revoke=function(){this.leave(),this.drafts.forEach(v),this.drafts=null},b.prototype.leave=function(){this===b.current&&(b.current=this.parent)},b.current=null,b.enter=function(){return this.current=new b(this.current)};var m={};function w(){this.revoked=!0}function D(t){return t.copy||t.base}function O(t,e){var r=t[o];if(r&&!r.finalizing){r.finalizing=!0;var n=t[e];return r.finalizing=!1,n}return t[e]}function x(t){t.modified||(t.modified=!0,t.parent&&x(t.parent))}function I(t){t.copy||(t.copy=P(t.base))}function P(t){var e=t&&t[o];if(e){e.finalizing=!0;var r=p(e.draft,!0);return e.finalizing=!1,r}return p(t)}function T(t){if(!0===t.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(D(t)))}function A(t){for(var e=t.length-1;e>=0;e--){var r=t[e][o];r.modified||(Array.isArray(r.base)?E(r)&&x(r):z(r)&&x(r))}}function z(t){for(var e=t.base,r=t.draft,n=Object.keys(r),i=n.length-1;i>=0;i--){var s=n[i],a=e[s];if(void 0===a&&!l(e,s))return!0;var c=r[s],h=c&&c[o];if(h?h.base!==a:!g(c,a))return!0}return n.length!==Object.keys(e).length}function E(t){var e=t.draft;if(e.length!==t.base.length)return!0;var r=Object.getOwnPropertyDescriptor(e,e.length-1);return!(!r||r.get)}var S=Object.freeze({willFinalize:function(t,e,r){t.drafts.forEach((function(t){t[o].finalizing=!0})),r?a(e)&&e[o].scope===t&&A(t.drafts):(t.patches&&function t(e){if(e&&"object"==typeof e){var r=e[o];if(r){var n=r.base,i=r.draft,s=r.assigned;if(Array.isArray(e)){if(E(r)){if(x(r),s.length=!0,i.length<n.length)for(var a=i.length;a<n.length;a++)s[a]=!1;else for(var c=n.length;c<i.length;c++)s[c]=!0;for(var h=0;h<i.length;h++)void 0===s[h]&&t(i[h])}}else Object.keys(i).forEach((function(e){void 0!==n[e]||l(n,e)?s[e]||t(i[e]):(s[e]=!0,x(r))})),Object.keys(n).forEach((function(t){void 0!==i[t]||l(i,t)||(s[t]=!1,x(r))}))}}}(t.drafts[0]),A(t.drafts))},createProxy:function t(e,r){var n=Array.isArray(e),i=P(e);f(i,(function(r){!function(e,r,n){var i=m[r];i?i.enumerable=n:m[r]=i={configurable:!0,enumerable:n,get:function(){return function(e,r){T(e);var n=O(D(e),r);return e.finalizing?n:n===O(e.base,r)&&c(n)?(I(e),e.copy[r]=t(n,e)):n}(this[o],r)},set:function(t){!function(t,e,r){if(T(t),t.assigned[e]=!0,!t.modified){if(g(r,O(D(t),e)))return;x(t),I(t)}t.copy[e]=r}(this[o],r,t)}},Object.defineProperty(e,r,i)}(i,r,n||d(e,r))}));var s=r?r.scope:b.current;return Object.defineProperty(i,o,{value:{scope:s,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:r,base:e,draft:i,copy:null,revoke:w,revoked:!1},enumerable:!1,writable:!0}),s.drafts.push(i),i}});function j(t,e){var r=e?e.scope:b.current,n={scope:r,modified:!1,finalized:!1,assigned:{},parent:e,base:t,draft:null,drafts:{},copy:null,revoke:null},i=Array.isArray(t)?Proxy.revocable([n],C):Proxy.revocable(n,k),s=i.revoke,o=i.proxy;return n.draft=o,n.revoke=s,r.drafts.push(o),o}var k={get:function(t,e){if(e===o)return t;var r=t.drafts;if(!t.modified&&l(r,e))return r[e];var n=F(t)[e];if(t.finalized||!c(n))return n;if(t.modified){if(n!==L(t.base,e))return n;r=t.copy}return r[e]=j(n,t)},has:function(t,e){return e in F(t)},ownKeys:function(t){return Reflect.ownKeys(F(t))},set:function(t,e,r){if(!t.modified){var n=L(t.base,e);if(r?g(n,r)||r===t.drafts[e]:g(n,r)&&e in t.base)return!0;R(t)}return t.assigned[e]=!0,t.copy[e]=r,!0},deleteProperty:function(t,e){return void 0!==L(t.base,e)||e in t.base?(t.assigned[e]=!1,R(t)):t.assigned[e]&&delete t.assigned[e],t.copy&&delete t.copy[e],!0},getOwnPropertyDescriptor:function(t,e){var r=F(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&(n.writable=!0,n.configurable=!Array.isArray(r)||"length"!==e),n},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(t){return Object.getPrototypeOf(t.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},C={};function F(t){return t.copy||t.base}function L(t,e){var r=t[o],n=Reflect.getOwnPropertyDescriptor(r?F(r):t,e);return n&&n.value}function R(t){t.modified||(t.modified=!0,t.copy=h(p(t.base),t.drafts),t.drafts=null,t.parent&&R(t.parent))}f(k,(function(t,e){C[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),C.deleteProperty=function(t,e){if(isNaN(parseInt(e)))throw new Error("Immer only supports deleting array indices");return k.deleteProperty.call(this,t[0],e)},C.set=function(t,e,r){if("length"!==e&&isNaN(parseInt(e)))throw new Error("Immer only supports setting array indices and the 'length' property");return k.set.call(this,t[0],e,r)};var B=Object.freeze({willFinalize:function(){},createProxy:j}),H=function(t,e){for(var r=0,n=e;r<n.length;r+=1){var i=n[r],s=i.path,o=i.op,a=y(i.value);if(!s.length)throw new Error("Illegal state");for(var c=t,h=0;h<s.length-1;h++)if(!(c=c[s[h]])||"object"!=typeof c)throw new Error("Cannot apply patch, path doesn't resolve: "+s.join("/"));var u=s[s.length-1];switch(o){case"replace":c[u]=a;break;case"add":Array.isArray(c)?c.splice(u,0,a):c[u]=a;break;case"remove":Array.isArray(c)?c.splice(u,1):delete c[u];break;default:throw new Error("Unsupported patch operation: "+o)}}return t},M={useProxies:"undefined"!=typeof Proxy&&"undefined"!=typeof Reflect,autoFreeze:"undefined"==typeof process&&"verifyMinified"===(function(){}).name,onAssign:null,onDelete:null,onCopy:null},N=function(t){h(this,M,t),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this)};N.prototype.produce=function(t,e,r){var n,s=this;if("function"==typeof t&&"function"!=typeof e){var o=e;e=t;var a=this;return function(t){var r=this;void 0===t&&(t=o);for(var n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];return a.produce(t,(function(t){return e.call.apply(e,[r,t].concat(n))}))}}if("function"!=typeof e)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==r&&"function"!=typeof r)throw new Error("The third argument to `produce` must be a function or undefined");if(c(t)){var h=b.enter(),u=this.createProxy(t),p=!0;try{n=e(u),p=!1}finally{p?h.revoke():h.leave()}return n instanceof Promise?n.then((function(t){return h.usePatches(r),s.processResult(t,h)}),(function(t){throw h.revoke(),t})):(h.usePatches(r),this.processResult(n,h))}return void 0===(n=e(t))?t:n!==i?n:void 0},N.prototype.produceWithPatches=function(t,e,r){var n,i,s=this;if("function"==typeof t)return function(e){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];return s.produceWithPatches(e,(function(e){return t.apply(void 0,[e].concat(r))}))};if(r)throw new Error("A patch listener cannot be passed to produceWithPatches");return[this.produce(t,e,(function(t,e){n=t,i=e})),n,i]},N.prototype.createDraft=function(t){if(!c(t))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var e=b.enter(),r=this.createProxy(t);return r[o].isManual=!0,e.leave(),r},N.prototype.finishDraft=function(t,e){var r=t&&t[o];if(!r||!r.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(r.finalized)throw new Error("The given draft is already finalized");var n=r.scope;return n.usePatches(e),this.processResult(void 0,n)},N.prototype.setAutoFreeze=function(t){this.autoFreeze=t},N.prototype.setUseProxies=function(t){this.useProxies=t,h(this,t?B:S)},N.prototype.applyPatches=function(t,e){var r;for(r=e.length-1;r>=0;r--){var n=e[r];if(0===n.path.length&&"replace"===n.op){t=n.value;break}}return a(t)?H(t,e):this.produce(t,(function(t){return H(t,e.slice(r+1))}))},N.prototype.processResult=function(t,e){var r=e.drafts[0],n=void 0!==t&&t!==r;if(this.willFinalize(e,t,n),n){if(r[o].modified)throw e.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");c(t)&&(t=this.finalize(t,null,e)),e.patches&&(e.patches.push({op:"replace",path:[],value:t}),e.inversePatches.push({op:"replace",path:[],value:r[o].base}))}else t=this.finalize(r,[],e);return e.revoke(),e.patches&&e.patchListener(e.patches,e.inversePatches),t!==i?t:void 0},N.prototype.finalize=function(t,e,r){var n=this,i=t[o];if(!i)return Object.isFrozen(t)?t:this.finalizeTree(t,null,r);if(i.scope!==r)return t;if(!i.modified)return i.base;if(!i.finalized){if(i.finalized=!0,this.finalizeTree(i.draft,e,r),this.onDelete)if(this.useProxies){var s=i.assigned;for(var a in s)s[a]||this.onDelete(i,a)}else{var c=i.copy;f(i.base,(function(t){l(c,t)||n.onDelete(i,t)}))}this.onCopy&&this.onCopy(i),this.autoFreeze&&r.canAutoFreeze&&Object.freeze(i.copy),e&&r.patches&&function(t,e,r,n){Array.isArray(t.base)?function(t,e,r,n){var i,s,o=t.base,a=t.copy,c=t.assigned;a.length<o.length&&(o=(i=[a,o])[0],a=i[1],r=(s=[n,r])[0],n=s[1]);for(var h=a.length-o.length,u=0;o[u]===a[u]&&u<o.length;)++u;for(var p=o.length;p>u&&o[p-1]===a[p+h-1];)--p;for(var f=u;f<p;++f)if(c[f]&&a[f]!==o[f]){var d=e.concat([f]);r.push({op:"replace",path:d,value:a[f]}),n.push({op:"replace",path:d,value:o[f]})}for(var l=r.length,g=p+h-1;g>=p;--g){var y=e.concat([g]);r[l+g-p]={op:"add",path:y,value:a[g]},n.push({op:"remove",path:y})}}(t,e,r,n):function(t,e,r,n){var i=t.base,s=t.copy;f(t.assigned,(function(t,o){var a=i[t],c=s[t],h=o?t in i?"replace":"add":"remove";if(a!==c||"replace"!==h){var u=e.concat(t);r.push("remove"===h?{op:h,path:u}:{op:h,path:u,value:c}),n.push("add"===h?{op:"remove",path:u}:"remove"===h?{op:"add",path:u,value:a}:{op:"replace",path:u,value:a})}}))}(t,e,r,n)}(i,e,r.patches,r.inversePatches)}return i.copy},N.prototype.finalizeTree=function(t,e,r){var n=this,i=t[o];i&&(this.useProxies||(i.copy=p(i.draft,!0)),t=i.copy);var s=!!e&&!!r.patches,h=function(o,u,p){if(u===p)throw Error("Immer forbids circular references");var l=!!i&&p===t;if(a(u)){var y=l&&s&&!i.assigned[o]?e.concat(o):null;if(a(u=n.finalize(u,y,r))&&(r.canAutoFreeze=!1),Array.isArray(p)||d(p,o)?p[o]=u:Object.defineProperty(p,o,{value:u}),l&&u===i.base[o])return}else{if(l&&g(u,i.base[o]))return;c(u)&&!Object.isFrozen(u)&&f(u,h)}l&&n.onAssign&&n.onAssign(i,o,u)};return f(t,h),t};var _=new N,$=_.produce;_.produceWithPatches.bind(_),_.setAutoFreeze.bind(_),_.setUseProxies.bind(_),_.applyPatches.bind(_),_.createDraft.bind(_),_.finishDraft.bind(_)},"6tfF":function(t,e,r){"use strict";r.d(e,"a",(function(){return p}));var n=r("EM62"),i=r("Qq0t"),s=r("HHHL"),o=r("Lty/"),a=r("2kYt");function c(t,e){1&t&&n.Nb(0)}const h=function(t){return{$implicit:t}};function u(t,e){if(1&t&&(n.Pb(0),n.rc(1,c,1,0,"ng-container",1),n.Ob()),2&t){const t=e.$implicit,r=e.index,i=n.bc();n.zb(1),n.gc("ngTemplateOutlet",i.template)("ngTemplateOutletContext",n.ic(2,h,i.contextFor(t,r)))}}let p=(()=>{class t extends o.a{constructor(t,e,r){super(t,e,r),this.trackById=(t,e)=>this.spec&&this.spec.trackBy(e)}set renderTemplates(t){t.length>0&&(this.template=t.first)}ngAfterContentInit(){if(!this.template)throw new Error('You must provide a <ng-template cardTemplate> as a content child, or with [template]="myTemplateRef"')}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit()}ngOnChanges(t){super.ngOnChanges(t)}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(n.Lb(i.c),n.Lb(n.l),n.Lb(n.h))},t.\u0275cmp=n.Fb({type:t,selectors:[["dnd-sortable-list"]],contentQueries:function(t,e,r){var i;1&t&&n.Db(r,s.a,!1,n.K),2&t&&n.lc(i=n.ac())&&(e.renderTemplates=i)},inputs:{template:"template"},features:[n.yb([{provide:o.a,useExisting:t}]),n.wb,n.xb],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&n.rc(0,u,2,4,"ng-container",0),2&t&&n.gc("ngForOf",e.children)("ngForTrackBy",e.trackById)},directives:[a.k,a.p],styles:["[_nghost-%COMP%] {\n      display: block;\n    }"],changeDetection:0}),t})()},"8Kv9":function(t,e,r){"use strict";r.d(e,"b",(function(){return n.a})),r.d(e,"d",(function(){return i})),r.d(e,"c",(function(){return h})),r.d(e,"e",(function(){return l})),r.d(e,"a",(function(){return v})),r("Lty/"),r("6tfF"),r("HHHL");var n=r("whu5"),i=(r("HNCh"),r("iIRS"),function(t){return t.BeginDrag="BeginDrag",t.Hover="Hover",t.Drop="Drop",t.EndDrag="EndDrag",t}({}));class s{constructor(t,e){this.type=t,this.item=e,this.event=i.BeginDrag}}class o{constructor(t,e){this.type=t,this.item=e,this.event=i.Hover}}class a{constructor(t,e){this.type=t,this.item=e,this.event=i.Drop}}class c{constructor(t,e){this.type=t,this.item=e,this.event=i.EndDrag}}class h{constructor(t,e,r){this.store=t,this.actionType=e,this.beginDrag=(t,e)=>{this.store.dispatch(new s(this.actionType,t))},this.hover=(t,e)=>{this.store.dispatch(new o(this.actionType,t))},this.drop=(t,e)=>{this.store.dispatch(new a(this.actionType,t))},this.endDrag=(t,e)=>{this.store.dispatch(new c(this.actionType,t))},void 0!==r.type&&(this.type=r.type),void 0!==r.accepts&&(this.accepts=r.accepts),void 0!==r.trackBy&&(this.trackBy=r.trackBy),void 0!==r.getList&&(this.getList=r.getList),void 0!==r.canDrag&&(this.canDrag=r.canDrag),void 0!==r.canDrop&&(this.canDrop=r.canDrop),void 0!==r.isDragging&&(this.isDragging=r.isDragging),void 0!==r.createData&&(this.createData=r.createData)}}var u=r("ZTXN"),p=r("Ohay"),f=r("xVbo");const d=Symbol("SPILLED_LIST_ID");function l(t,e,r){const n=t=>t?(t.hover={listId:d,index:-1},Object.assign({},t)):null,i=new u.a,s=t.dropTarget(e,{hover:t=>{if(t.canDrop()&&t.isOver({shallow:!0})){const e=n(t.getItem());i.next(e)}else i.next(null)},drop:r.drop&&(t=>{const e=n(t.getItem());t.didDrop()||r.drop&&e&&r.drop(e)})||void 0}),o=i.pipe(Object(p.a)(),Object(f.a)(t=>!!t)).subscribe(t=>{r.hover&&t&&r.hover(t)});return s.add(o),s}var g=r("2kYt"),y=r("Qq0t"),b=r("EM62");let v=(()=>{class t{}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(e){return new(e||t)},imports:[[g.c,y.b]]}),t})()},HHHL:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r("EM62");let i=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.Gb({type:t,selectors:[["","dndSortableTemplate",""]]}),t})()},HNCh:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r("Qq0t"),i=r("iIRS"),s=r("EM62");const o=Symbol("EXTERNAL_LIST_ID");let a=(()=>{class t{constructor(t,e){this.dnd=t,this.el=e,this.source=this.dnd.dragSource(null,{canDrag:t=>!this.spec||!this.spec.canDrag||this.spec.canDrag(void 0,void 0,t),beginDrag:()=>{if("function"!=typeof this.spec.createData)throw new Error("spec.createData must be a function");return{type:this.spec.type,data:this.spec.createData(),hover:{index:-1,listId:o},isInternal:!1,index:-1,listId:o,size:this.size()}},endDrag:t=>{const e=t.getItem();e&&this.spec&&this.spec.endDrag&&this.spec.endDrag(e,t)}})}size(){const t=this.el.nativeElement.getBoundingClientRect();return new i.b(t.width||t.right-t.left,t.height||t.bottom-t.top)}ngOnChanges(){this.source.setType(this.spec.type)}ngOnDestroy(){this.source.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(n.c),s.Lb(s.l))},t.\u0275dir=s.Gb({type:t,selectors:[["","dndSortableExternal",""]],inputs:{spec:["dndSortableExternal","spec"]},exportAs:["dndSortableExternal"],features:[s.xb]}),t})()},"Lty/":function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r("C05f"),i=r("bwdy"),s=r("Qq0t"),o=r("iIRS"),a=r("EM62");let c=(()=>{class t{constructor(t,e,r){this.dnd=t,this.el=e,this.cdr=r,this.listId=Math.random().toString(),this.horizontal=!1,this.hoverTrigger=o.a.halfway,this.childrenSubject$=new n.a([]),this.children$=this.childrenSubject$,this.subs=new i.a,this.listSubs=new i.a,this.target=this.dnd.dropTarget(null,{canDrop:t=>{if(!this.acceptsType(t.getItemType()))return!1;const e=t.getItem();return!!e&&this.getCanDrop(e,t)},drop:t=>{const e=t.getItem();return e&&this.getCanDrop(e,t)&&this.spec&&this.spec.drop&&this.spec.drop(e,t),{}},hover:t=>{const e=t.getItem();this.children&&function(t){for(let e of t)return!1;return!0}(this.children)&&e&&this.getCanDrop(e,t)&&t.isOver({shallow:!0})&&this.callHover(e,t,{listId:this.listId,index:0})}},this.subs)}updateSubscription(){if(null!=this.listId&&this.spec&&(this.listSubs&&(this.subs.remove(this.listSubs),this.listSubs.unsubscribe()),this.spec.getList)){const t=this.spec.getList(this.listId);this.listSubs=t&&t.subscribe(t=>{t&&(this.childrenSubject$.next(t),this.children=t,this.cdr.markForCheck())}),this.subs.add(this.listSubs)}}contextFor(t,e){return{data:t,index:e,listId:this.listId,spec:this.spec,horizontal:this.horizontal,hoverTrigger:this.hoverTrigger}}getCanDrop(t,e,r=!0){return this.spec&&this.spec.canDrop?this.spec.canDrop(t,e):r}callHover(t,e,r){r&&(t.hover=r,t=Object.assign({},t)),this.spec&&this.spec.hover&&this.spec.hover(t,e)}ngOnInit(){this.updateSubscription(),this.target.setTypes(this.getTargetType())}getTargetType(){return Array.isArray(this.spec.accepts)?this.spec.accepts:this.spec.accepts||this.spec.type}acceptsType(t){return null!=t&&(Array.isArray(this.spec.accepts)?-1!==this.spec.accepts.indexOf(t):t==this.getTargetType())}ngOnChanges({spec:t,listId:e}){e&&this.updateSubscription(),t&&this.updateSubscription(),this.target.setTypes(this.getTargetType())}ngAfterViewInit(){if(!this.el)throw new Error("dndSortable directive must have ElementRef");this.target.connectDropTarget(this.el.nativeElement)}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(a.Lb(s.c),a.Lb(a.l),a.Lb(a.h))},t.\u0275dir=a.Gb({type:t,selectors:[["","dndSortable",""]],inputs:{listId:"listId",horizontal:"horizontal",spec:"spec",children:"children",hoverTrigger:"hoverTrigger"},exportAs:["dndSortable"],features:[a.xb]}),t})()},iIRS:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return i}));class n{constructor(t,e){this.width=t,this.height=e}style(){return{width:this.width+"px",height:this.height+"px"}}}var i=function(t){return t.halfway="halfway",t.fixed="fixed",t}({})},whu5:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r("Qq0t"),i=r("bwdy"),s=r("iIRS");function o(t,e,r,n){const{hover:i}=e,s=(t.horizontal?n.x:n.y)<(t.horizontal?r.left:r.top)+(t.horizontal?r.width||r.right-r.left:r.height||r.bottom-r.top)/2;let o;return o=t.listId===i.listId?t.index<i.index?s?t.index:t.index+1:s?t.index-1:t.index:s?t.index:t.index+1,o}function a(t){return t.index}var c=r("EM62");const h=requestAnimationFrame||webkitRequestAnimationFrame||(t=>setTimeout(t,0));let u=(()=>{class t{constructor(t,e){this.dnd=t,this.el=e,this.subs=new i.a,this.sameIds=(t,e)=>t&&e.data&&this.spec.trackBy(t)===this.spec.trackBy(e.data),this.target=this.dnd.dropTarget(null,{canDrop:()=>!1,hover:t=>{this.hover(t)}},this.subs),this.source=this.dnd.dragSource(null,{canDrag:t=>this.getCanDrag(t),isDragging:t=>this.isDragging(t.getItem()),beginDrag:t=>{const e=this.createItem();return this.spec&&this.spec.beginDrag&&h(()=>{this.spec&&this.spec.beginDrag&&this.spec.beginDrag(e,t)}),e},endDrag:t=>{const e=t.getItem();e&&this.spec&&this.spec.endDrag&&this.spec.endDrag(e,t)}},this.subs),this.isDragging$=this.source.listen(t=>t.isDragging())}get data(){return this.context.data}get index(){return this.context.index}get type(){return this.context.spec&&this.context.spec.type}get listId(){return this.context.listId}get accepts(){const t=this.context.spec;return t?Array.isArray(t.accepts)?t.accepts:t.accepts||t.type:[]}get spec(){return this.context.spec}createItem(){return{data:this.data,index:this.index,size:this.size(),type:this.type,isInternal:!0,listId:this.listId,hover:{index:this.index,listId:this.listId}}}getCanDrag(t){return!this.spec||!this.spec.canDrag||this.spec.canDrag(this.data,this.listId,t)}isDragging(t){return this.spec&&this.spec.isDragging?t&&this.spec.isDragging(this.data,t)||!1:t&&this.sameIds(this.data,t)||!1}hover(t){const e=t.getItem(),r=t.getClientOffset();if(null==e||null==r)return;if(this.isDragging(e)&&this.index===e.hover.index&&this.listId===e.hover.listId)return;const{hover:n}=e;let i=function(t){switch(t){case s.a.fixed:return a;default:return o}}(this.context.hoverTrigger)(this.context,e,this.rect(),r);if(i<0)throw new Error("@ng-dnd/sortable: Cannot move a card to an index < 0.");if(i!==n.index||this.listId!==n.listId){if(e.hover={index:i,listId:this.listId},this.spec&&this.spec.canDrop&&!this.spec.canDrop(e,t))return;this.spec&&this.spec.hover&&this.spec.hover(Object.assign({},e),t)}}rect(){if(!this.el)throw new Error("@ng-dnd/sortable: [dndSortableRender] expected to be attached to a real DOM element");return this.el.nativeElement.getBoundingClientRect()}size(){const t=this.rect();return new s.b(t.width||t.right-t.left,t.height||t.bottom-t.top)}ngOnInit(){this.target.setTypes(this.accepts),this.source.setType(this.type)}ngAfterViewInit(){this.el&&this.target.connectDropTarget(this.el.nativeElement)}ngOnChanges(){this.target.setTypes(this.accepts),this.source.setType(this.type)}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(n.c),c.Lb(c.l))},t.\u0275dir=c.Gb({type:t,selectors:[["","dndSortableRender",""]],inputs:{context:["dndSortableRender","context"]},exportAs:["dndSortableRender"],features:[c.xb]}),t})()}}]);