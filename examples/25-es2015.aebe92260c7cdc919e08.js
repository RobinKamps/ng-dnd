(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{dfo6:function(t,e,n){"use strict";n.r(e),n.d(e,"QuizModule",(function(){return Z}));var i,s,r=n("2kYt"),o=n("nIj0"),c=n("JqZp"),a=n("Qq0t"),l=n("sEIs"),d=n("m3KN"),b=n("8Kv9"),p=n("EM62"),u=n("8dL6"),m=n("6BAR"),h=function(t){return t.Math="Math",t.Name="Name",t}({});class g{constructor(t,e,n){this.id=t,this.question=e,this.answer=n,this[i]=!0,this.formType=h.Math,this.templateDescription=g.templateDescription}}i=m.a,g.templateDescription="Math question";class f{constructor(t){this.id=t,this[s]=!0,this.formType=h.Name,this.templateDescription=f.templateDescription}}s=m.a,f.templateDescription="Name and student ID";var v=n("4s1X"),w=n("xBIF"),x=n("6tfF"),Q=n("HHHL");function R(t,e){1&t&&(p.Rb(0,"div"),p.tc(1,"That's not quite right."),p.Qb())}function I(t,e){1&t&&(p.Rb(0,"div"),p.tc(1,"Correct!"),p.Qb())}function y(t,e){if(1&t&&(p.Rb(0,"div",8),p.rc(1,R,2,0,"div",9),p.rc(2,I,2,0,"div",9),p.Qb()),2&t){const t=e.ngIf;p.zb(1),p.gc("ngIf",t.invalid&&(t.touched||t.dirty)&&t.errors.incorrect),p.zb(1),p.gc("ngIf",t.valid)}}function S(t,e){if(1&t&&(p.Rb(0,"div"),p.Rb(1,"h4"),p.tc(2),p.Qb(),p.Rb(3,"form",5),p.Mb(4,"input",6),p.rc(5,y,3,2,"div",7),p.Qb(),p.Qb()),2&t){const t=p.bc().$implicit,e=p.bc();p.zb(2),p.uc(e.getQuestion(t)),p.zb(1),p.gc("formGroup",t.input),p.zb(2),p.gc("ngIf",t.input.get("answer"))}}function M(t,e){1&t&&(p.Rb(0,"div"),p.tc(1," Please enter a student ID in the form 's1234'."),p.Qb())}function q(t,e){if(1&t&&(p.Rb(0,"div",8),p.rc(1,M,2,0,"div",9),p.Qb()),2&t){const t=e.ngIf;p.zb(1),p.gc("ngIf",t.invalid&&(t.touched||t.dirty)&&t.errors.pattern)}}function O(t,e){if(1&t&&(p.Rb(0,"div"),p.Rb(1,"h4"),p.tc(2,"Enter your Name and Student Id"),p.Qb(),p.Rb(3,"form",5),p.Rb(4,"label"),p.tc(5," Name "),p.Mb(6,"input",10),p.Qb(),p.Rb(7,"label"),p.tc(8," Student ID "),p.Mb(9,"input",11),p.Qb(),p.rc(10,q,2,1,"div",7),p.Qb(),p.Qb()),2&t){const t=p.bc().$implicit;p.zb(3),p.gc("formGroup",t.input),p.zb(7),p.gc("ngIf",t.input.get("studentId"))}}function z(t,e){if(1&t&&(p.Rb(0,"div",2),p.Pb(1,3),p.rc(2,S,6,3,"div",4),p.rc(3,O,11,2,"div",4),p.Ob(),p.Qb()),2&t){const t=e.$implicit;p.zb(1),p.gc("ngSwitch",t.question.formType),p.zb(1),p.gc("ngSwitchCase","Math"),p.zb(1),p.gc("ngSwitchCase","Name")}}let C=(()=>{class t{set formElements(t){this.sections=t.map(t=>({question:t,input:this.getFormGroup(t)}))}getFormGroup(t){switch(t.formType){case h.Math:return new o.e({answer:new o.c(null,[o.m.required,(e=t.answer,t=>t.value===e?null:{incorrect:!0})])});case h.Name:return new o.e({name:new o.c(null,[o.m.required]),studentId:new o.c(null,[o.m.required,o.m.pattern(/^s\d{4}$/)])})}var e}getQuestion(t){return t.question.question}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Fb({type:t,selectors:[["app-printout"]],inputs:{formElements:"formElements"},decls:2,vars:1,consts:[[1,"printout-page"],["class","printout-elem",4,"ngFor","ngForOf"],[1,"printout-elem"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"formGroup"],["formControlName","answer","type","number"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],["formControlName","name"],["formControlName","studentId"]],template:function(t,e){1&t&&(p.Rb(0,"div",0),p.rc(1,z,4,3,"div",1),p.Qb()),2&t&&(p.zb(1),p.gc("ngForOf",e.sections))},directives:[r.k,r.n,r.o,o.n,o.i,o.f,o.b,o.k,o.h,o.d,r.l],styles:[".ng-valid[_ngcontent-%COMP%]:not(form)  {\n        border-left: 5px solid #42A948; \n    }\n    .ng-invalid[_ngcontent-%COMP%]:not(form)  {\n        border-left: 5px solid #a94442; \n    }"]}),t})();function P(t,e){1&t&&p.Mb(0,"input",4)}let k=(()=>{class t{constructor(){this.edit=new p.n}ngOnChanges(){this.form=new o.e({question:new o.c(this.data.question),answer:new o.c(this.data.answer)})}onSubmit(){this.edit.emit(new g(this.data.id,this.form.get("question").value,this.form.get("answer").value))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Fb({type:t,selectors:[["app-math-form"]],inputs:{data:"data"},outputs:{edit:"edit"},features:[p.xb],decls:11,vars:2,consts:[[3,"formGroup","ngSubmit"],["placeholder","Add a card","formControlName","question",1,"title"],["type","number","formControlName","answer",1,"amount"],["type","submit","value","Save question",4,"ngIf"],["type","submit","value","Save question"]],template:function(t,e){1&t&&(p.Rb(0,"form",0),p.Zb("ngSubmit",(function(){return e.onSubmit()})),p.Rb(1,"div"),p.Rb(2,"label"),p.tc(3," Question: "),p.Mb(4,"input",1),p.Qb(),p.Qb(),p.Rb(5,"div"),p.Rb(6,"label"),p.tc(7," Answer: "),p.Mb(8,"input",2),p.Qb(),p.Qb(),p.Rb(9,"div"),p.rc(10,P,1,0,"input",3),p.Qb(),p.Qb()),2&t&&(p.gc("formGroup",e.form),p.zb(10),p.gc("ngIf",e.form.dirty))},directives:[o.n,o.i,o.f,o.b,o.h,o.d,o.k,r.l],encapsulation:2}),t})();function _(t,e){if(1&t){const t=p.Sb();p.Rb(0,"app-math-form",5),p.Zb("edit",(function(e){return p.nc(t),p.bc().edit.emit(e)})),p.Qb()}if(2&t){const t=p.bc();p.gc("data",t.question)}}function T(t,e){1&t&&(p.Rb(0,"div"),p.tc(1," Student enters their name/student id "),p.Qb())}let E=(()=>{class t{constructor(t){this.render=t,this.preview=!1,this.edit=new p.n}}return t.\u0275fac=function(e){return new(e||t)(p.Lb(b.b,8))},t.\u0275cmp=p.Fb({type:t,selectors:[["quiz-section"]],inputs:{question:"question",preview:"preview"},outputs:{edit:"edit"},decls:7,vars:12,consts:[[1,"section",3,"dragPreview"],[1,"section-handle",3,"dragSource","noHTML5Preview"],[1,"section-content",3,"ngSwitch"],[3,"data","edit",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"data","edit"]],template:function(t,e){1&t&&(p.Rb(0,"div",0),p.cc(1,"async"),p.Rb(2,"span",1),p.tc(3," \u2630 "),p.Qb(),p.Rb(4,"div",2),p.rc(5,_,1,1,"app-math-form",3),p.rc(6,T,2,0,"div",4),p.Qb(),p.Qb()),2&t&&(p.Cb("section--placeholder",p.dc(1,10,null==e.render?null:e.render.isDragging$))("section--preview",e.preview),p.gc("dragPreview",null==e.render?null:e.render.source),p.zb(2),p.gc("dragSource",null==e.render?null:e.render.source)("noHTML5Preview",!0),p.zb(2),p.gc("ngSwitch",e.question.formType),p.zb(1),p.gc("ngSwitchCase","Math"),p.zb(1),p.gc("ngSwitchCase","Name"))},directives:[w.b,w.c,r.n,r.o,k],pipes:[r.b],styles:["[_nghost-%COMP%]{display:block}.section[_ngcontent-%COMP%]{min-width:0;width:100%;max-width:300px;color:#1111a7;background:#e2ecfa;display:-ms-flexbox;display:flex}.section--preview[_ngcontent-%COMP%], [_nghost-%COMP%]:not(:last-child)   .section[_ngcontent-%COMP%]{border-bottom:1px solid #7593bf}.section-handle[_ngcontent-%COMP%]{cursor:move;color:#333;margin-right:4px}.section-content[_ngcontent-%COMP%], .section-handle[_ngcontent-%COMP%]{padding:6px}.section--placeholder[_ngcontent-%COMP%]{opacity:.4;background:#eee}"]}),t})();var N=n("HNCh"),D=n("whu5");function L(t,e){if(1&t&&(p.Pb(0),p.Mb(1,"quiz-section",13),p.Ob()),2&t){const t=p.bc(2).item;p.zb(1),p.gc("question",t.data)("preview",!0)}}function F(t,e){if(1&t&&(p.Rb(0,"div",14),p.tc(1),p.Qb()),2&t){const t=p.bc(2).item;p.gc("ngStyle",t.size.style()),p.zb(1),p.vc(" ",t.data.templateDescription," ")}}function j(t,e){if(1&t&&(p.Pb(0),p.rc(1,L,2,2,"ng-container",11),p.rc(2,F,2,2,"ng-template",null,12,p.sc),p.Ob()),2&t){const t=p.mc(3),e=p.bc().item;p.zb(1),p.gc("ngIf",e.isInternal||"WORK_AREA"===e.hover.listId)("ngIfElse",t)}}function H(t,e){1&t&&p.rc(0,j,4,2,"ng-container",10),2&t&&p.gc("ngIf","QUIZ_QUESTION"===e.$implicit)}function A(t,e){if(1&t&&(p.Rb(0,"div",15,16),p.tc(2),p.Qb()),2&t){const t=e.$implicit,n=p.mc(1);p.gc("dndSortableExternal",t.spec)("dragSource",n.source)("noHTML5Preview",!0),p.zb(2),p.vc(" ",t.description," ")}}function $(t,e){if(1&t){const t=p.Sb();p.Rb(0,"quiz-section",17,18),p.Zb("edit",(function(e){return p.nc(t),p.bc().edit(e)})),p.Qb()}if(2&t){const t=e.$implicit,n=p.mc(1);p.qc("display","block"),p.gc("dndSortableRender",t)("question",n.data)}}let B=(()=>{class t{constructor(t){this.dnd=t,this.spill=Object(b.e)(this.dnd,"QUIZ_QUESTION",{drop:t=>{t.isInternal&&(this.list=this.tempList=this.remove(t))}}),this.list=[new g(1,"What is 2+2?",4),new g(2,"What is the meaning of life?",42),new g(3,"What is 1137 mod 256?",113)],this.nextId=4,this.tempList=this.list,this.spec={type:"QUIZ_QUESTION",trackBy:t=>t.id,hover:t=>{this.tempList=this.move(t)},drop:t=>{this.tempList=this.list=this.move(t)},endDrag:t=>{this.tempList=this.list}},this.nameBlock=Object.assign(Object.assign({},this.spec),{createData:()=>new f(this.nextId++)}),this.mathQuestion=Object.assign(Object.assign({},this.spec),{createData:()=>new g(this.nextId++,"New math question",0)}),this.questionTemplates=[{spec:this.nameBlock,description:f.templateDescription},{spec:this.mathQuestion,description:g.templateDescription}]}move(t){return Object(m.b)(this.list,e=>{t.isInternal&&e.splice(t.index,1),e.splice(t.hover.index,0,t.data)})}remove(t){return Object(m.b)(this.list,e=>{e.splice(t.index,1)})}edit(t){const e=this.list.findIndex(e=>e.id===t.id);if(e>=0){const n=this.list.slice(0);n.splice(e,1,t),this.tempList=this.list=n}}ngOnDestroy(){this.spill.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(p.Lb(a.c))},t.\u0275cmp=p.Fb({type:t,selectors:[["app-external-sortable"]],decls:17,vars:6,consts:[[3,"allBackends"],[1,"flex",3,"dropTarget"],[1,"templates"],[1,"templates-flex"],["class","external",3,"dndSortableExternal","dragSource","noHTML5Preview",4,"ngFor","ngForOf"],[1,"work-area"],["listId","WORK_AREA",1,"list",3,"spec","children"],[3,"display","dndSortableRender","question","edit",4,"dndSortableTemplate"],[1,"printout"],[3,"formElements"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["external",""],[3,"question","preview"],[1,"external",3,"ngStyle"],[1,"external",3,"dndSortableExternal","dragSource","noHTML5Preview"],["ext","dndSortableExternal"],[3,"dndSortableRender","question","edit"],["r","dndSortableRender"]],template:function(t,e){1&t&&(p.Rb(0,"dnd-preview",0),p.rc(1,H,1,1,"ng-template"),p.Qb(),p.Rb(2,"div",1),p.Rb(3,"div",2),p.Rb(4,"h3"),p.tc(5,"Drag templates"),p.Qb(),p.Rb(6,"div",3),p.rc(7,A,3,4,"div",4),p.Qb(),p.Qb(),p.Rb(8,"div",5),p.Rb(9,"h3"),p.tc(10,"...into here; edit them"),p.Qb(),p.Rb(11,"dnd-sortable-list",6),p.rc(12,$,2,4,"quiz-section",7),p.Qb(),p.Qb(),p.Rb(13,"div",8),p.Rb(14,"h3"),p.tc(15,"... then try the quiz out"),p.Qb(),p.Mb(16,"app-printout",9),p.Qb(),p.Qb()),2&t&&(p.gc("allBackends",!0),p.zb(2),p.gc("dropTarget",e.spill),p.zb(5),p.gc("ngForOf",e.questionTemplates),p.zb(4),p.gc("spec",e.spec)("children",e.tempList),p.zb(5),p.gc("formElements",e.list))},directives:[v.a,w.d,r.k,x.a,Q.a,C,r.l,E,r.m,N.a,w.c,D.a],styles:["@media screen and (min-width:480px){.flex[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:0;padding:4px}}h3[_ngcontent-%COMP%]{border-bottom:2px solid #dedede;padding-bottom:6px}.templates-flex[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-direction:column;flex-direction:column}.external[_ngcontent-%COMP%]{background:#ffe5df;color:#ab4a30;padding:4px;margin-bottom:8px;border-top:2px solid #f9ede9;border-bottom:2px solid #efc5ba;min-width:0}"]}),t})(),G=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Fb({type:t,selectors:[["quiz-container"]],decls:14,vars:0,consts:[["path","sortable/quiz"]],template:function(t,e){1&t&&(p.Mb(0,"app-example-link",0),p.Rb(1,"p"),p.tc(2,"This example does the same list operations as the 'Simple list' example, but it does them with "),p.Rb(3,"code"),p.tc(4,"immer"),p.Qb(),p.tc(5," just to shake things up."),p.Qb(),p.Rb(6,"p"),p.tc(7,"It also uses the "),p.Rb(8,"code"),p.tc(9,"[dndSortableExternal]"),p.Qb(),p.tc(10," directive to allow dragging in items that aren't already managed by a list."),p.Qb(),p.Rb(11,"p"),p.tc(12,"It also uses a 'spillTarget', attached outside the work area, which allows the preview to morph as you drag templates over the work area and out again."),p.Qb(),p.Mb(13,"app-external-sortable"))},directives:[u.a,B],encapsulation:2}),t})(),Z=(()=>{class t{}return t.\u0275mod=p.Jb({type:t}),t.\u0275inj=p.Ib({factory:function(e){return new(e||t)},imports:[[r.c,o.l,c.a,a.b,d.a,b.a,l.d.forChild([{path:"",component:G}])]]}),t})()}}]);